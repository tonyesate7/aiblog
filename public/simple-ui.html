<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ë¸”ë¡œê·¸ ìƒì„±ê¸° v4.1 - Enhanced UX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <link href="/static/styles.css" rel="stylesheet">
    <style>
        .step-content { opacity: 0; transform: translateY(20px); transition: all 0.3s ease; }
        .step-content.active { opacity: 1; transform: translateY(0); }
        .step-indicator { display: flex; flex-direction: column; align-items: center; }
        .step-indicator.active .step-circle { background: #3b82f6; color: white; }
        .step-indicator.completed .step-circle { background: #10b981; color: white; }
        .step-circle { width: 2rem; height: 2rem; border-radius: 50%; background: #e5e7eb; color: #6b7280; display: flex; align-items: center; justify-content: center; font-weight: 600; }
        .option-card { cursor: pointer; transition: all 0.2s ease; }
        .option-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .option-card.selected { border-color: #3b82f6; background: #eff6ff; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- í—¤ë” -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-4xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-magic text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-800">AI ë¸”ë¡œê·¸ ìƒì„±ê¸°</h1>
                        <p class="text-sm text-gray-500">ê°„ë‹¨í•œ 3ë‹¨ê³„ë¡œ ê³ í’ˆì§ˆ ë¸”ë¡œê·¸ ì™„ì„±</p>
                    </div>
                </div>
                <button id="helpBtn" class="text-sm text-blue-600 hover:text-blue-800 flex items-center space-x-1">
                    <i class="fas fa-question-circle"></i>
                    <span>ë„ì›€ë§</span>
                </button>
            </div>
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <main class="max-w-3xl mx-auto px-4 py-8">
        <!-- í”„ë¡œê·¸ë ˆìŠ¤ ì¸ë””ì¼€ì´í„° -->
        <div class="mb-8">
            <div class="flex items-center justify-between">
                <div class="step-indicator active" data-step="1">
                    <div class="step-circle">1</div>
                    <span class="text-sm mt-2 font-medium">ì£¼ì œ ì…ë ¥</span>
                </div>
                <div class="flex-1 h-0.5 bg-gray-300 mx-4"></div>
                <div class="step-indicator" data-step="2">
                    <div class="step-circle">2</div>
                    <span class="text-sm mt-2 font-medium">ê¸°ë³¸ ì„¤ì •</span>
                </div>
                <div class="flex-1 h-0.5 bg-gray-300 mx-4"></div>
                <div class="step-indicator" data-step="3">
                    <div class="step-circle">3</div>
                    <span class="text-sm mt-2 font-medium">ìƒì„±</span>
                </div>
            </div>
        </div>

        <!-- Step 1: ì£¼ì œ ì…ë ¥ -->
        <div id="step1" class="step-content active">
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-3">ì–´ë–¤ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê¹Œìš”?</h2>
                    <p class="text-gray-600 text-lg">ì£¼ì œë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì…ë ¥í• ìˆ˜ë¡ ë” ì¢‹ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì–´ìš”</p>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <input type="text" id="topic" name="topic" 
                               placeholder="ì˜ˆ: 2024ë…„ AI ê¸°ìˆ  íŠ¸ë Œë“œ, ê±´ê°•í•œ ì•„ì¹¨ ì‹ë‹¨ ê°€ì´ë“œ, ë¶€ë™ì‚° íˆ¬ì íŒ..." 
                               class="w-full px-6 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-lg placeholder-gray-400">
                    </div>
                    
                    <!-- ì¶”ì²œ ì£¼ì œ -->
                    <div class="space-y-3">
                        <p class="text-sm font-medium text-gray-600 flex items-center">
                            <i class="fas fa-star text-yellow-500 mr-2"></i>
                            ì¸ê¸° ì£¼ì œ ì¶”ì²œ
                        </p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                            <button type="button" class="suggestion-btn text-left p-4 border-2 border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50 transition-all" data-topic="2024ë…„ AI ê¸°ìˆ  íŠ¸ë Œë“œì™€ ë¹„ì¦ˆë‹ˆìŠ¤ í™œìš© ì „ë§">
                                <div class="flex items-center">
                                    <i class="fas fa-robot text-blue-500 mr-3 text-xl"></i>
                                    <div>
                                        <div class="font-medium text-gray-800">AI & ê¸°ìˆ </div>
                                        <div class="text-sm text-gray-500">ì¸ê³µì§€ëŠ¥, ê°œë°œ, í˜ì‹ </div>
                                    </div>
                                </div>
                            </button>
                            <button type="button" class="suggestion-btn text-left p-4 border-2 border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50 transition-all" data-topic="MZì„¸ëŒ€ë¥¼ ìœ„í•œ ë””ì§€í„¸ ë§ˆì¼€íŒ… ì „ëµê³¼ íŠ¸ë Œë“œ">
                                <div class="flex items-center">
                                    <i class="fas fa-chart-line text-green-500 mr-3 text-xl"></i>
                                    <div>
                                        <div class="font-medium text-gray-800">ë¹„ì¦ˆë‹ˆìŠ¤</div>
                                        <div class="text-sm text-gray-500">ë§ˆì¼€íŒ…, ì°½ì—…, ì„±ì¥</div>
                                    </div>
                                </div>
                            </button>
                            <button type="button" class="suggestion-btn text-left p-4 border-2 border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50 transition-all" data-topic="ë°”ìœ ì§ì¥ì¸ì„ ìœ„í•œ ê±´ê°•í•œ ë¼ì´í”„ìŠ¤íƒ€ì¼ ê°€ì´ë“œ">
                                <div class="flex items-center">
                                    <i class="fas fa-heart text-red-500 mr-3 text-xl"></i>
                                    <div>
                                        <div class="font-medium text-gray-800">ë¼ì´í”„ìŠ¤íƒ€ì¼</div>
                                        <div class="text-sm text-gray-500">ê±´ê°•, ì·¨ë¯¸, ì¼ìƒ</div>
                                    </div>
                                </div>
                            </button>
                            <button type="button" class="suggestion-btn text-left p-4 border-2 border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50 transition-all" data-topic="ì´ˆë³´ìë¥¼ ìœ„í•œ ì£¼ì‹ íˆ¬ì ê¸°ì´ˆì™€ ì‹¤ì „ ì „ëµ">
                                <div class="flex items-center">
                                    <i class="fas fa-coins text-yellow-500 mr-3 text-xl"></i>
                                    <div>
                                        <div class="font-medium text-gray-800">íˆ¬ì & ê¸ˆìœµ</div>
                                        <div class="text-sm text-gray-500">ì£¼ì‹, ë¶€ë™ì‚°, ì¬í…Œí¬</div>
                                    </div>
                                </div>
                            </button>
                        </div>
                    </div>
                    
                    <div class="text-center pt-6">
                        <button type="button" id="nextToStep2" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-12 py-4 rounded-xl font-semibold text-lg hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2 mx-auto" disabled>
                            <span>ë‹¤ìŒ ë‹¨ê³„</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2: ê¸°ë³¸ ì„¤ì • -->
        <div id="step2" class="step-content">
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-3">ë…ìì™€ ê¸€ì˜ ëŠë‚Œì„ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
                    <p class="text-gray-600 text-lg">ê°„ë‹¨í•œ ì„¤ì •ìœ¼ë¡œ ë” ë§ì¶¤í˜• ì½˜í…ì¸ ë¥¼ ë§Œë“¤ì–´ìš”</p>
                </div>
                
                <div class="space-y-8">
                    <!-- ë…ìì¸µ ì„ íƒ -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-users text-blue-500 mr-3"></i>
                            ëˆ„êµ¬ë¥¼ ìœ„í•œ ê¸€ì¸ê°€ìš”?
                        </h3>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div class="option-card border-2 border-gray-200 rounded-xl p-4 text-center" data-value="ì¼ë°˜ì¸">
                                <div class="text-2xl mb-2">ğŸ‘¥</div>
                                <div class="font-semibold text-gray-800">ì¼ë°˜ì¸</div>
                                <div class="text-sm text-gray-500 mt-1">ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì´í•´</div>
                            </div>
                            <div class="option-card border-2 border-gray-200 rounded-xl p-4 text-center" data-value="ì´ˆë³´ì">
                                <div class="text-2xl mb-2">ğŸŒ±</div>
                                <div class="font-semibold text-gray-800">ì´ˆë³´ì</div>
                                <div class="text-sm text-gray-500 mt-1">ê¸°ì´ˆë¶€í„° ì°¨ê·¼ì°¨ê·¼</div>
                            </div>
                            <div class="option-card border-2 border-gray-200 rounded-xl p-4 text-center" data-value="ì „ë¬¸ê°€">
                                <div class="text-2xl mb-2">ğŸ¯</div>
                                <div class="font-semibold text-gray-800">ì „ë¬¸ê°€</div>
                                <div class="text-sm text-gray-500 mt-1">ì‹¬í™” ë‚´ìš© í¬í•¨</div>
                            </div>
                        </div>
                        <input type="hidden" id="audience" name="audience">
                    </div>
                    
                    <!-- í†¤ ì„ íƒ -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-palette text-purple-500 mr-3"></i>
                            ì–´ë–¤ ëŠë‚Œìœ¼ë¡œ ì“¸ê¹Œìš”?
                        </h3>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div class="option-card border-2 border-gray-200 rounded-xl p-4 text-center" data-value="ì¹œê·¼í•œ">
                                <div class="text-2xl mb-2">ğŸ˜Š</div>
                                <div class="font-semibold text-gray-800">ì¹œê·¼í•˜ê²Œ</div>
                                <div class="text-sm text-gray-500 mt-1">í¸ì•ˆí•˜ê³  ìì—°ìŠ¤ëŸ½ê²Œ</div>
                            </div>
                            <div class="option-card border-2 border-gray-200 rounded-xl p-4 text-center" data-value="ì „ë¬¸ì ">
                                <div class="text-2xl mb-2">ğŸ’¼</div>
                                <div class="font-semibold text-gray-800">ì „ë¬¸ì ìœ¼ë¡œ</div>
                                <div class="text-sm text-gray-500 mt-1">ì‹ ë¢°ê° ìˆê³  ì •í™•í•˜ê²Œ</div>
                            </div>
                            <div class="option-card border-2 border-gray-200 rounded-xl p-4 text-center" data-value="ìœ ë¨¸ëŸ¬ìŠ¤">
                                <div class="text-2xl mb-2">ğŸ˜„</div>
                                <div class="font-semibold text-gray-800">ìœ ë¨¸ëŸ¬ìŠ¤í•˜ê²Œ</div>
                                <div class="text-sm text-gray-500 mt-1">ì¬ë¯¸ìˆê³  í¥ë¯¸ë¡­ê²Œ</div>
                            </div>
                        </div>
                        <input type="hidden" id="tone" name="tone">
                    </div>
                    
                    <div class="flex justify-between pt-6">
                        <button type="button" id="backToStep1" class="bg-gray-500 text-white px-8 py-3 rounded-xl font-semibold hover:bg-gray-600 transition-colors flex items-center space-x-2">
                            <i class="fas fa-arrow-left"></i>
                            <span>ì´ì „</span>
                        </button>
                        <button type="button" id="generateBtn" class="bg-gradient-to-r from-green-500 to-blue-600 text-white px-12 py-4 rounded-xl font-semibold text-lg hover:from-green-600 hover:to-blue-700 transition-all transform hover:scale-105 flex items-center space-x-2">
                            <i class="fas fa-magic"></i>
                            <span>AI ë¸”ë¡œê·¸ ìƒì„±í•˜ê¸°</span>
                        </button>
                    </div>
                </div>
                
                <!-- ê³ ê¸‰ ì˜µì…˜ (ì ‘íŒ ìƒíƒœ) -->
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <button id="toggleAdvanced" class="w-full flex items-center justify-between text-left hover:bg-gray-50 rounded-lg p-3 transition-colors">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-cog text-gray-400"></i>
                            <span class="font-medium text-gray-700">ê³ ê¸‰ ì˜µì…˜</span>
                            <span class="text-sm text-gray-500">(SEO ìµœì í™”, ì´ë¯¸ì§€ ìƒì„± ë“±)</span>
                        </div>
                        <i class="fas fa-chevron-down text-gray-400 transform transition-transform" id="advancedChevron"></i>
                    </button>
                    
                    <div id="advancedOptions" class="hidden mt-4 p-4 bg-gray-50 rounded-xl">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- SEO ì˜µì…˜ -->
                            <div>
                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" id="enableSEO" class="w-4 h-4 text-blue-600 border-gray-300 rounded">
                                    <span class="font-medium text-gray-700">SEO ìµœì í™” ì ìš©</span>
                                </label>
                                <p class="text-sm text-gray-500 mt-1 ml-7">ê²€ìƒ‰ ì—”ì§„ ë…¸ì¶œ ê°œì„ </p>
                            </div>
                            
                            <!-- AI ëª¨ë¸ ì„ íƒ -->
                            <div>
                                <label class="block font-medium text-gray-700 mb-2">AI ëª¨ë¸</label>
                                <select id="aiModel" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    <option value="auto">ìë™ ì„ íƒ (ì¶”ì²œ)</option>
                                    <option value="claude">Claude (ë…¼ë¦¬ì  ë¶„ì„)</option>
                                    <option value="gemini">Gemini (ì°½ì˜ì  ì‚¬ê³ )</option>
                                    <option value="openai">GPT (ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”)</option>
                                    <option value="grok">Grok (ë…íŠ¹í•œ ê´€ì )</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ê²°ê³¼ ì„¹ì…˜ -->
        <div id="resultSection" class="hidden">
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
                <div class="p-6 border-b bg-gradient-to-r from-green-50 to-blue-50">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                ìƒì„± ì™„ë£Œ!
                            </h3>
                            <p id="generationInfo" class="text-gray-600 mt-1"></p>
                        </div>
                        <button id="newArticleBtn" class="bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors flex items-center space-x-2">
                            <i class="fas fa-plus"></i>
                            <span>ìƒˆ ê¸€ ì‘ì„±</span>
                        </button>
                    </div>
                </div>
                
                <div class="p-6">
                    <div id="contentReader" class="prose prose-lg max-w-none"></div>
                </div>
            </div>
        </div>
    </main>
    
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js"></script>
    <script>
        // ê°„ë‹¨í•œ 3ë‹¨ê³„ UI ì œì–´
        class SimpleUI {
            constructor() {
                this.currentStep = 1;
                this.formData = {};
                this.initializeEventListeners();
                this.setDefaults();
            }
            
            initializeEventListeners() {
                // ì£¼ì œ ì…ë ¥ ê°ì§€
                document.getElementById('topic').addEventListener('input', (e) => {
                    const hasValue = e.target.value.trim().length > 0;
                    document.getElementById('nextToStep2').disabled = !hasValue;
                });
                
                // ì¶”ì²œ ì£¼ì œ í´ë¦­
                document.querySelectorAll('.suggestion-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const topic = btn.dataset.topic;
                        document.getElementById('topic').value = topic;
                        document.getElementById('nextToStep2').disabled = false;
                        this.nextStep();
                    });
                });
                
                // ì˜µì…˜ ì¹´ë“œ ì„ íƒ
                document.querySelectorAll('.option-card').forEach(card => {
                    card.addEventListener('click', () => {
                        const group = card.parentElement;
                        group.querySelectorAll('.option-card').forEach(c => c.classList.remove('selected'));
                        card.classList.add('selected');
                        
                        // ê°’ ì„¤ì •
                        const value = card.dataset.value;
                        if (group.previousElementSibling.querySelector('i').classList.contains('fa-users')) {
                            document.getElementById('audience').value = value;
                        } else {
                            document.getElementById('tone').value = value;
                        }
                        
                        this.checkStep2Complete();
                    });
                });
                
                // ë‹¨ê³„ ì´ë™
                document.getElementById('nextToStep2').addEventListener('click', () => this.nextStep());
                document.getElementById('backToStep1').addEventListener('click', () => this.prevStep());
                document.getElementById('generateBtn').addEventListener('click', () => this.generateContent());
                
                // ê³ ê¸‰ ì˜µì…˜ í† ê¸€
                document.getElementById('toggleAdvanced').addEventListener('click', () => {
                    const options = document.getElementById('advancedOptions');
                    const chevron = document.getElementById('advancedChevron');
                    options.classList.toggle('hidden');
                    chevron.classList.toggle('rotate-180');
                });
                
                // ìƒˆ ê¸€ ì‘ì„±
                document.getElementById('newArticleBtn').addEventListener('click', () => this.resetForm());
            }
            
            setDefaults() {
                // ê¸°ë³¸ê°’ ì„¤ì •
                document.querySelector('[data-value="ì¼ë°˜ì¸"]').click();
                document.querySelector('[data-value="ì¹œê·¼í•œ"]').click();
            }
            
            nextStep() {
                if (this.currentStep < 3) {
                    this.hideStep(this.currentStep);
                    this.currentStep++;
                    this.showStep(this.currentStep);
                    this.updateProgress();
                }
            }
            
            prevStep() {
                if (this.currentStep > 1) {
                    this.hideStep(this.currentStep);
                    this.currentStep--;
                    this.showStep(this.currentStep);
                    this.updateProgress();
                }
            }
            
            showStep(step) {
                const element = document.getElementById(`step${step}`);
                if (element) {
                    element.style.display = 'block';
                    setTimeout(() => element.classList.add('active'), 10);
                }
            }
            
            hideStep(step) {
                const element = document.getElementById(`step${step}`);
                if (element) {
                    element.classList.remove('active');
                    setTimeout(() => element.style.display = 'none', 300);
                }
            }
            
            updateProgress() {
                document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
                    const stepNum = index + 1;
                    indicator.classList.remove('active', 'completed');
                    
                    if (stepNum === this.currentStep) {
                        indicator.classList.add('active');
                    } else if (stepNum < this.currentStep) {
                        indicator.classList.add('completed');
                    }
                });
            }
            
            checkStep2Complete() {
                const audience = document.getElementById('audience').value;
                const tone = document.getElementById('tone').value;
                document.getElementById('generateBtn').disabled = !audience || !tone;
            }
            
            async generateContent() {
                const topic = document.getElementById('topic').value.trim();
                const audience = document.getElementById('audience').value;
                const tone = document.getElementById('tone').value;
                const enableSEO = document.getElementById('enableSEO').checked;
                const aiModel = document.getElementById('aiModel').value;
                
                if (!topic || !audience || !tone) {
                    alert('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                // ë¡œë”© í‘œì‹œ
                const generateBtn = document.getElementById('generateBtn');
                generateBtn.disabled = true;
                generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>AIê°€ ê¸€ì„ ì‘ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...';
                
                try {
                    const response = await axios.post('/api/generate', {
                        topic,
                        audience,
                        tone,
                        aiModel: aiModel === 'auto' ? 'claude' : aiModel,
                        enableSEO
                    });
                    
                    this.displayResult(response.data);
                } catch (error) {
                    console.error('ìƒì„± ì˜¤ë¥˜:', error);
                    alert('ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                } finally {
                    generateBtn.disabled = false;
                    generateBtn.innerHTML = '<i class="fas fa-magic mr-2"></i>AI ë¸”ë¡œê·¸ ìƒì„±í•˜ê¸°';
                }
            }
            
            displayResult(result) {
                document.getElementById('generationInfo').textContent = `ëª¨ë¸: ${result.model} | ì˜ˆìƒ ì½ê¸° ì‹œê°„: ${Math.ceil(result.content.length / 500)}ë¶„`;
                document.getElementById('contentReader').innerHTML = this.markdownToHtml(result.content);
                document.getElementById('resultSection').classList.remove('hidden');
                document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
            }
            
            markdownToHtml(markdown) {
                return markdown
                    .replace(/^### (.*$)/gim, '<h3 class="text-xl font-semibold text-gray-800 mt-6 mb-3">$1</h3>')
                    .replace(/^## (.*$)/gim, '<h2 class="text-2xl font-bold text-gray-800 mt-8 mb-4">$1</h2>')
                    .replace(/^# (.*$)/gim, '<h1 class="text-3xl font-bold text-gray-900 mb-6">$1</h1>')
                    .replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold">$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em class="italic">$1</em>')
                    .replace(/\n\n/g, '</p><p class="mb-4">')
                    .replace(/^(.+)$/gm, '<p class="mb-4">$1</p>')
                    .replace(/<p class="mb-4"><\/p>/g, '');
            }
            
            resetForm() {
                this.currentStep = 1;
                document.getElementById('topic').value = '';
                document.getElementById('nextToStep2').disabled = true;
                document.getElementById('resultSection').classList.add('hidden');
                this.hideStep(2);
                this.showStep(1);
                this.updateProgress();
                this.setDefaults();
            }
        }
        
        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            new SimpleUI();
        });
    </script>
</body>
</html>