// ==================== AI Î∏îÎ°úÍ∑∏ ÏÉùÏÑ±Í∏∞ v3.0 ====================
// ÌíàÏßà Í≤ÄÏ¶ù ÏãúÏä§ÌÖú(QA System) Ìè¨Ìï® Í≥†Í∏â Î≤ÑÏ†Ñ

class BlogGenerator {
    constructor() {
        this.initializeElements()
        this.attachEventListeners()
        this.loadApiKeys()
        this.checkApiKeyStatus()
        this.initializeTutorial()
        
        console.log('üöÄ AI Î∏îÎ°úÍ∑∏ ÏÉùÏÑ±Í∏∞ v3.1 Ï¥àÍ∏∞Ìôî ÏôÑÎ£å (GROK ÌÜµÌï© + ÏÇ¨Ïö©Ïûê Í∞ÄÏù¥Îìú ÏãúÏä§ÌÖú)')
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïä§ÎßàÌä∏ Í∞ÄÏù¥Îìú Ï¥àÍ∏∞ Î∂ÑÏÑù
        setTimeout(() => {
            this.analyzeInput()
        }, 500)
    }

    initializeElements() {
        // Ìèº ÏöîÏÜåÎì§
        this.form = document.getElementById('blogForm')
        this.topicInput = document.getElementById('topic')
        this.audienceSelect = document.getElementById('audience')
        this.toneSelect = document.getElementById('tone')
        this.aiModelSelect = document.getElementById('aiModel')
        this.generateBtn = document.getElementById('generateBtn')
        this.generateSeoBtn = document.getElementById('generateSeoBtn')
        
        // API ÌÇ§ Í¥ÄÎ†® ÏöîÏÜåÎì§
        this.toggleApiKeysBtn = document.getElementById('toggleApiKeys')
        this.apiKeysSection = document.getElementById('apiKeysSection')
        this.claudeApiKeyInput = document.getElementById('claudeApiKey')
        this.geminiApiKeyInput = document.getElementById('geminiApiKey')
        this.openaiApiKeyInput = document.getElementById('openaiApiKey')
        this.grokApiKeyInput = document.getElementById('grokApiKey')
        
        // SEO Í¥ÄÎ†® ÏöîÏÜåÎì§
        this.toggleSeoOptionsBtn = document.getElementById('toggleSeoOptions')
        this.seoOptionsSection = document.getElementById('seoOptionsSection')
        this.focusKeywordInput = document.getElementById('focusKeyword')
        this.targetKeywordsInput = document.getElementById('targetKeywords')
        this.contentLengthSelect = document.getElementById('contentLength')
        this.includeStructuredDataInput = document.getElementById('includeStructuredData')
        
        // Í≤∞Í≥º ÌëúÏãú ÏöîÏÜåÎì§
        this.resultSection = document.getElementById('resultSection')
        this.contentDiv = document.getElementById('content')
        this.copyBtn = document.getElementById('copyBtn')
        this.generationInfo = document.getElementById('generationInfo')
        
        // Ïä§ÎßàÌä∏ Í∞ÄÏù¥Îìú ÏöîÏÜåÎì§
        this.smartGuideSection = document.getElementById('smartGuideSection')
        this.dynamicGuide = document.getElementById('dynamicGuide')
        this.topicGuide = document.getElementById('topicGuide')
        this.recommendedAI = document.getElementById('recommendedAI')
        this.guideReason = document.getElementById('guideReason')
        this.optimizationTips = document.getElementById('optimizationTips')
        this.tipsList = document.getElementById('tipsList')
        this.toggleGuideBtn = document.getElementById('toggleGuide')
        
        // ÌíàÏßà Í≤ÄÏ¶ù Í¥ÄÎ†® ÏöîÏÜåÎì§
        this.generateQaBtn = document.getElementById('generateQaBtn')
        this.qaProgressSection = document.getElementById('qaProgressSection')
        this.step1Status = document.getElementById('step1Status')
        this.step1Details = document.getElementById('step1Details')
        this.step2Status = document.getElementById('step2Status')
        this.step2Details = document.getElementById('step2Details')
        this.step3Status = document.getElementById('step3Status')
        this.step3Details = document.getElementById('step3Details')
        this.qaMetrics = document.getElementById('qaMetrics')
        this.originalScore = document.getElementById('originalScore')
        this.improvedScore = document.getElementById('improvedScore')
        this.improvementPercentage = document.getElementById('improvementPercentage')
        
        // Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖú ÏöîÏÜåÎì§
        this.expertSystemInfo = document.getElementById('expertSystemInfo')
        this.selectedExpert = document.getElementById('selectedExpert')
        this.confidence = document.getElementById('confidence')
        this.expertReasoning = document.getElementById('expertReasoning')
        
        // SEO Î∂ÑÏÑù ÏöîÏÜåÎì§
        this.seoAnalysisSection = document.getElementById('seoAnalysisSection')
        this.seoScore = document.getElementById('seoScore')
        this.seoScoreProgress = document.getElementById('seoScoreProgress')
        this.keywordDensity = document.getElementById('keywordDensity')
        this.focusKeywordDisplay = document.getElementById('focusKeywordDisplay')
        this.readingTime = document.getElementById('readingTime')
        this.wordCount = document.getElementById('wordCount')
        this.seoTitle = document.getElementById('seoTitle')
        this.metaDescription = document.getElementById('metaDescription')
        this.seoKeywords = document.getElementById('seoKeywords')
        this.recommendationsList = document.getElementById('recommendationsList')
    }

    attachEventListeners() {
        // ÏùºÎ∞ò Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± Î≤ÑÌäº
        if (this.generateBtn) {
            this.generateBtn.addEventListener('click', (e) => {
                e.preventDefault()
                this.generateBlog()
            })
        }

        // SEO ÏµúÏ†ÅÌôî Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± Î≤ÑÌäº
        if (this.generateSeoBtn) {
            this.generateSeoBtn.addEventListener('click', (e) => {
                e.preventDefault()
                this.generateSEOBlog()
            })
        }

        // API ÌÇ§ ÌÜ†Í∏Ä Î≤ÑÌäº
        if (this.toggleApiKeysBtn) {
            this.toggleApiKeysBtn.addEventListener('click', () => {
                this.toggleApiKeysSection()
            })
        }

        // SEO ÏòµÏÖò ÌÜ†Í∏Ä Î≤ÑÌäº
        if (this.toggleSeoOptionsBtn) {
            this.toggleSeoOptionsBtn.addEventListener('click', () => {
                this.toggleSeoOptionsSection()
            })
        }

        // ÌíàÏßà Í≤ÄÏ¶ù ÏÉùÏÑ± Î≤ÑÌäº
        if (this.generateQaBtn) {
            this.generateQaBtn.addEventListener('click', (e) => {
                e.preventDefault()
                this.generateQABlog()
            })
        }

        // Î≥µÏÇ¨ Î≤ÑÌäº
        if (this.copyBtn) {
            this.copyBtn.addEventListener('click', () => {
                this.copyContent()
            })
        }

        // Ïä§ÎßàÌä∏ Í∞ÄÏù¥Îìú ÌÜ†Í∏Ä
        if (this.toggleGuideBtn) {
            this.toggleGuideBtn.addEventListener('click', () => {
                this.toggleSmartGuide()
            })
        }

        // Ïã§ÏãúÍ∞Ñ ÏûÖÎ†• Î∂ÑÏÑù
        if (this.topicInput) {
            this.topicInput.addEventListener('input', () => {
                this.analyzeInput()
            })
        }

        if (this.audienceSelect) {
            this.audienceSelect.addEventListener('change', () => {
                this.analyzeInput()
            })
        }

        if (this.toneSelect) {
            this.toneSelect.addEventListener('change', () => {
                this.analyzeInput()
            })
        }

        // API ÌÇ§ ÏûÖÎ†• Ïãú ÏûêÎèô Ï†ÄÏû•
        const apiKeyInputs = [this.claudeApiKeyInput, this.geminiApiKeyInput, this.openaiApiKeyInput, this.grokApiKeyInput]
        apiKeyInputs.forEach(input => {
            if (input) {
                input.addEventListener('change', () => {
                    this.saveApiKeys()
                })
            }
        })
    }

    toggleApiKeysSection() {
        if (this.apiKeysSection) {
            const isHidden = this.apiKeysSection.classList.contains('hidden')
            
            if (isHidden) {
                this.apiKeysSection.classList.remove('hidden')
                this.toggleApiKeysBtn.innerHTML = '<i class="fas fa-chevron-up"></i>'
            } else {
                this.apiKeysSection.classList.add('hidden')
                this.toggleApiKeysBtn.innerHTML = '<i class="fas fa-chevron-down"></i>'
            }
        }
    }

    toggleSeoOptionsSection() {
        if (this.seoOptionsSection) {
            const isHidden = this.seoOptionsSection.classList.contains('hidden')
            
            if (isHidden) {
                this.seoOptionsSection.classList.remove('hidden')
                this.toggleSeoOptionsBtn.innerHTML = '<i class="fas fa-chevron-up"></i>'
            } else {
                this.seoOptionsSection.classList.add('hidden')
                this.toggleSeoOptionsBtn.innerHTML = '<i class="fas fa-chevron-down"></i>'
            }
        }
    }

    loadApiKeys() {
        try {
            const savedKeys = localStorage.getItem('aiApiKeys')
            if (savedKeys) {
                const keys = JSON.parse(savedKeys)
                
                if (this.claudeApiKeyInput && keys.claude) {
                    this.claudeApiKeyInput.value = keys.claude
                }
                if (this.geminiApiKeyInput && keys.gemini) {
                    this.geminiApiKeyInput.value = keys.gemini
                }
                if (this.openaiApiKeyInput && keys.openai) {
                    this.openaiApiKeyInput.value = keys.openai
                }
                if (this.grokApiKeyInput && keys.grok) {
                    this.grokApiKeyInput.value = keys.grok
                }
                
                console.log('üíæ Ï†ÄÏû•Îêú API ÌÇ§ Î°úÎìú ÏôÑÎ£å')
            }
        } catch (error) {
            console.error('API ÌÇ§ Î°úÎìú Ïã§Ìå®:', error)
        }
    }

    saveApiKeys() {
        try {
            const keys = {
                claude: this.claudeApiKeyInput?.value || '',
                gemini: this.geminiApiKeyInput?.value || '',
                openai: this.openaiApiKeyInput?.value || '',
                grok: this.grokApiKeyInput?.value || ''
            }
            
            localStorage.setItem('aiApiKeys', JSON.stringify(keys))
            console.log('üíæ API ÌÇ§ Ï†ÄÏû• ÏôÑÎ£å')
        } catch (error) {
            console.error('API ÌÇ§ Ï†ÄÏû• Ïã§Ìå®:', error)
        }
    }

    async checkApiKeyStatus() {
        try {
            const response = await axios.get('/api/keys/status')
            const status = response.data
            
            console.log('üîë API ÌÇ§ ÏÉÅÌÉú:', status)
            
            // ÏÑúÎ≤Ñ API ÌÇ§ ÏÉÅÌÉú Ï†ÄÏû• (Ï†ÑÏó≠ ÏÇ¨Ïö©)
            this.serverApiKeys = {
                claude: status.claude,
                gemini: status.gemini, 
                openai: status.openai,
                grok: status.grok
            }
            
            // Î∞îÎ°ú ÏÇ¨Ïö© Í∞ÄÎä•ÌïúÏßÄ ÌôïÏù∏
            if (status.canUseDirectly) {
                console.log(status.message)
                this.showServerApiKeyStatus(status.availableModels)
            } else {
                console.log('‚ùå ÏÑúÎ≤ÑÏóê Íµ¨ÏÑ±Îêú API ÌÇ§Í∞Ä ÏóÜÏäµÎãàÎã§. Í∞úÎ≥Ñ API ÌÇ§ ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.')
            }
            
        } catch (error) {
            console.error('API ÌÇ§ ÏÉÅÌÉú ÌôïÏù∏ Ïã§Ìå®:', error)
        }
    }
    
    showServerApiKeyStatus(availableModels) {
        // API ÌÇ§ ÏÑ§Ï†ï ÏÑπÏÖòÏóê ÏÑúÎ≤Ñ ÌÇ§ ÏÉÅÌÉú ÌëúÏãú
        const apiKeysSection = this.apiKeysSection
        if (apiKeysSection) {
            // ÏÑúÎ≤Ñ API ÌÇ§ ÏÉÅÌÉú ÏïåÎ¶º Ï∂îÍ∞Ä
            let statusDiv = document.getElementById('serverApiKeyStatus')
            if (!statusDiv) {
                statusDiv = document.createElement('div')
                statusDiv.id = 'serverApiKeyStatus'
                statusDiv.className = 'mb-4 p-3 bg-green-50 border border-green-200 rounded-lg'
                
                statusDiv.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-green-500 mr-2"></i>
                        <div>
                            <p class="font-medium text-green-800">ÏÑúÎ≤Ñ API ÌÇ§ Íµ¨ÏÑ± ÏôÑÎ£å! üéâ</p>
                            <p class="text-sm text-green-600">
                                <strong>${availableModels.join(', ')}</strong> Î™®Îç∏ÏùÑ API ÌÇ§ ÏÑ§Ï†ï ÏóÜÏù¥ Î∞îÎ°ú ÏÇ¨Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.
                                <br>Í∞úÎ≥Ñ API ÌÇ§Î•º ÏÑ§Ï†ïÌïòÎ©¥ Îçî ÎßéÏùÄ ÏÇ¨Ïö©ÎüâÍ≥º Í∞úÏù∏ÌôîÎêú ÏÑ§Ï†ïÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.
                            </p>
                        </div>
                    </div>
                `
                
                apiKeysSection.insertBefore(statusDiv, apiKeysSection.firstChild)
            }
        }
    }

    async generateBlog() {
        const topic = this.topicInput?.value?.trim()
        if (!topic) {
            this.showError('Ï£ºÏ†úÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')
            return
        }

        const audience = this.audienceSelect?.value || 'ÏùºÎ∞òÏù∏'
        const tone = this.toneSelect?.value || 'ÏπúÍ∑ºÌïú'
        const aiModel = this.aiModelSelect?.value || 'claude'

        // Î°úÎî© ÏÉÅÌÉú ÌëúÏãú
        this.setLoadingState(true)
        
        try {
            // API ÌÇ§ Í∞ÄÏ†∏Ïò§Í∏∞ (ÏÑúÎ≤Ñ ÌÇ§ Ïö∞ÏÑ†, ÏóÜÏúºÎ©¥ ÏÇ¨Ïö©Ïûê ÏûÖÎ†• ÌÇ§)
            let apiKey = ''
            if (aiModel === 'claude') {
                apiKey = this.claudeApiKeyInput?.value || ''
                if (!apiKey && this.serverApiKeys?.claude) {
                    console.log('üîë Claude ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö©')
                }
            } else if (aiModel === 'gemini') {
                apiKey = this.geminiApiKeyInput?.value || ''
                if (!apiKey && this.serverApiKeys?.gemini) {
                    console.log('üîë Gemini ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö©')
                }
            } else if (aiModel === 'openai') {
                apiKey = this.openaiApiKeyInput?.value || ''
                if (!apiKey && this.serverApiKeys?.openai) {
                    console.log('üîë OpenAI ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö©')
                }
            } else if (aiModel === 'grok') {
                apiKey = this.grokApiKeyInput?.value || ''
                if (!apiKey && this.serverApiKeys?.grok) {
                    console.log('üîë GROK ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö©')
                }
            }
            
            // ÏÑúÎ≤Ñ API ÌÇ§Í∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏
            const hasServerKey = this.serverApiKeys && this.serverApiKeys[aiModel]
            
            // API ÌÇ§ Í≤ÄÏ¶ù (ÏÑúÎ≤Ñ ÌÇ§Í∞Ä ÏûàÏúºÎ©¥ ÌÜµÍ≥º)
            if (!apiKey && !hasServerKey) {
                this.showError(`${aiModel.toUpperCase()} API ÌÇ§Î•º ÏûÖÎ†•ÌïòÍ±∞ÎÇò ÏÑúÎ≤ÑÏóê Íµ¨ÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî.`)
                this.setLoadingState(false)
                return
            }

            console.log(`ü§ñ ${aiModel} Î™®Îç∏Î°ú Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± ÏãúÏûë...`)
            console.log(`üìù Ï£ºÏ†ú: ${topic}`)
            console.log(`üë• ÎåÄÏÉÅ: ${audience}`)
            console.log(`üé® ÌÜ§: ${tone}`)

            const response = await axios.post('/api/generate', {
                topic,
                audience,
                tone,
                aiModel,
                apiKey
            })

            const result = response.data
            this.displayResult(result)
            
            console.log('‚úÖ Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± ÏôÑÎ£å:', result.model)

        } catch (error) {
            console.error('‚ùå Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± Ïã§Ìå®:', error)
            this.showError('Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.')
        } finally {
            this.setLoadingState(false)
        }
    }

    async generateSEOBlog() {
        const topic = this.topicInput?.value?.trim()
        if (!topic) {
            this.showError('Ï£ºÏ†úÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')
            return
        }

        const audience = this.audienceSelect?.value || 'ÏùºÎ∞òÏù∏'
        const tone = this.toneSelect?.value || 'ÏπúÍ∑ºÌïú'
        const aiModel = this.aiModelSelect?.value || 'claude'

        // SEO ÏòµÏÖò ÏàòÏßë
        const seoOptions = {
            focusKeyword: this.focusKeywordInput?.value?.trim() || topic,
            targetKeywords: this.targetKeywordsInput?.value?.trim() 
                ? this.targetKeywordsInput.value.split(',').map(k => k.trim()) 
                : [],
            contentLength: this.contentLengthSelect?.value || 'medium',
            includeStructuredData: this.includeStructuredDataInput?.checked || false
        }

        // Î°úÎî© ÏÉÅÌÉú ÌëúÏãú
        this.setSeoLoadingState(true)
        
        try {
            // API ÌÇ§ Í∞ÄÏ†∏Ïò§Í∏∞ (ÏÑúÎ≤Ñ ÌÇ§ Ïö∞ÏÑ† ÏÇ¨Ïö©)
            let apiKey = ''
            let hasServerKey = false
            
            if (aiModel === 'claude') {
                apiKey = this.claudeApiKeyInput?.value || ''
                hasServerKey = this.serverApiKeys?.claude
                if (!apiKey && hasServerKey) {
                    console.log('üîë Claude ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö© (SEO)')
                }
            } else if (aiModel === 'gemini') {
                apiKey = this.geminiApiKeyInput?.value || ''
                hasServerKey = this.serverApiKeys?.gemini
                if (!apiKey && hasServerKey) {
                    console.log('üîë Gemini ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö© (SEO)')
                }
            } else if (aiModel === 'openai') {
                apiKey = this.openaiApiKeyInput?.value || ''
                hasServerKey = this.serverApiKeys?.openai
                if (!apiKey && hasServerKey) {
                    console.log('üîë OpenAI ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö© (SEO)')
                }
            } else if (aiModel === 'grok') {
                apiKey = this.grokApiKeyInput?.value || ''
                hasServerKey = this.serverApiKeys?.grok
                if (!apiKey && hasServerKey) {
                    console.log('üîë GROK ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö© (SEO)')
                }
            }
            
            // API ÌÇ§ Í≤ÄÏ¶ù (ÏÑúÎ≤Ñ ÌÇ§Í∞Ä ÏûàÏúºÎ©¥ ÌÜµÍ≥º)
            if (!apiKey && !hasServerKey) {
                this.showError(`SEO ÏµúÏ†ÅÌôîÎ•º ÏúÑÌï¥ÏÑúÎäî ${aiModel.toUpperCase()} API ÌÇ§Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§. ÏÑúÎ≤ÑÏóê Íµ¨ÏÑ±Îêú ÌÇ§Í∞Ä ÏûàÍ±∞ÎÇò Í∞úÎ≥Ñ API ÌÇ§Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.`)
                this.setSeoLoadingState(false)
                return
            }

            console.log(`üîç SEO ÏµúÏ†ÅÌôî ${aiModel} Î™®Îç∏Î°ú Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± ÏãúÏûë...`)
            console.log(`üìù Ï£ºÏ†ú: ${topic}`)
            console.log(`üë• ÎåÄÏÉÅ: ${audience}`)
            console.log(`üé® ÌÜ§: ${tone}`)
            console.log(`üéØ SEO ÏòµÏÖò:`, seoOptions)

            const response = await axios.post('/api/generate-seo', {
                topic,
                audience,
                tone,
                aiModel,
                apiKey,
                seoOptions
            })

            const result = response.data
            this.displaySEOResult(result)
            
            console.log('‚úÖ SEO Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± ÏôÑÎ£å:', result.model)

        } catch (error) {
            console.error('‚ùå SEO Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± Ïã§Ìå®:', error)
            this.showError('SEO Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.')
        } finally {
            this.setSeoLoadingState(false)
        }
    }

    async generateQABlog() {
        const topic = this.topicInput?.value?.trim()
        if (!topic) {
            this.showError('Ï£ºÏ†úÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')
            return
        }

        const audience = this.audienceSelect?.value || 'ÏùºÎ∞òÏù∏'
        const tone = this.toneSelect?.value || 'ÏπúÍ∑ºÌïú'
        const aiModel = this.aiModelSelect?.value || 'auto'

        // SEO ÏòµÏÖò ÏàòÏßë (SEO ÏÑπÏÖòÏù¥ Ïó¥Î†§ÏûàÏúºÎ©¥)
        const seoOptions = {
            focusKeyword: this.focusKeywordInput?.value?.trim() || topic,
            targetKeywords: this.targetKeywordsInput?.value?.trim() 
                ? this.targetKeywordsInput.value.split(',').map(k => k.trim()) 
                : [],
            contentLength: this.contentLengthSelect?.value || 'medium',
            includeStructuredData: this.includeStructuredDataInput?.checked || false
        }

        // API ÌÇ§ Ï≤¥ÌÅ¨ (ÏÑúÎ≤Ñ ÌÇ§ Ïö∞ÏÑ† ÏÇ¨Ïö©)
        let apiKey = ''
        let hasServerKey = false
        
        if (aiModel === 'claude' || aiModel === 'auto') {
            apiKey = this.claudeApiKeyInput?.value || ''
            hasServerKey = this.serverApiKeys?.claude
            if (!apiKey && hasServerKey) {
                console.log('üîë Claude ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö© (QA)')
            }
        } else if (aiModel === 'gemini') {
            apiKey = this.geminiApiKeyInput?.value || ''
            hasServerKey = this.serverApiKeys?.gemini
            if (!apiKey && hasServerKey) {
                console.log('üîë Gemini ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö© (QA)')
            }
        } else if (aiModel === 'openai') {
            apiKey = this.openaiApiKeyInput?.value || ''
            hasServerKey = this.serverApiKeys?.openai
            if (!apiKey && hasServerKey) {
                console.log('üîë OpenAI ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö© (QA)')
            }
        } else if (aiModel === 'grok') {
            apiKey = this.grokApiKeyInput?.value || ''
            hasServerKey = this.serverApiKeys?.grok
            if (!apiKey && hasServerKey) {
                console.log('üîë GROK ÏÑúÎ≤Ñ API ÌÇ§ ÏÇ¨Ïö© (QA)')
            }
        }

        // auto Î™®ÎìúÏùº ÎïåÎäî ÏÑúÎ≤Ñ ÌÇ§ Ï§ëÏóêÏÑú ÏÇ¨Ïö© Í∞ÄÎä•Ìïú Í≤É ÌôïÏù∏
        if (aiModel === 'auto') {
            hasServerKey = this.serverApiKeys?.claude || this.serverApiKeys?.gemini || 
                          this.serverApiKeys?.openai || this.serverApiKeys?.grok
        }

        if (!apiKey && !hasServerKey) {
            this.showError('ÌíàÏßà Í≤ÄÏ¶ù ÏãúÏä§ÌÖúÏùÑ ÏúÑÌï¥ÏÑúÎäî API ÌÇ§Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§. ÏÑúÎ≤ÑÏóê Íµ¨ÏÑ±Îêú ÌÇ§Í∞Ä ÏûàÍ±∞ÎÇò Í∞úÎ≥Ñ API ÌÇ§Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.')
            return
        }

        // Î°úÎî© ÏÉÅÌÉú ÌëúÏãú
        this.setQALoadingState(true)
        this.showQAProgress()
        
        try {
            console.log(`üõ°Ô∏è ÌíàÏßà Í≤ÄÏ¶ù ${aiModel} Î™®Îç∏Î°ú Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± ÏãúÏûë...`)
            console.log(`üìù Ï£ºÏ†ú: ${topic}`)
            console.log(`üë• ÎåÄÏÉÅ: ${audience}`)
            console.log(`üé® ÌÜ§: ${tone}`)

            // SEO Î™®Îìú ÌôïÏù∏ (SEO ÏòµÏÖò ÏÑπÏÖòÏù¥ Ïó¥Î†§ÏûàÍ≥† ÌÇ§ÏõåÎìúÍ∞Ä ÏûàÏúºÎ©¥)
            const seoMode = !this.seoOptionsSection?.classList.contains('hidden') && 
                          (this.focusKeywordInput?.value?.trim() || this.targetKeywordsInput?.value?.trim())

            const response = await axios.post('/api/generate-qa', {
                topic,
                audience,
                tone,
                aiModel,
                apiKey,
                seoMode,
                seoOptions
            })

            const result = response.data
            
            // ÏßÑÌñâ ÏÉÅÌô© ÏóÖÎç∞Ïù¥Ìä∏
            this.updateQAProgress(result.processingSteps)
            
            // Í≤∞Í≥º ÌëúÏãú
            if (result.isQA) {
                this.displayQAResult(result)
            } else {
                this.displayResult(result)
            }
            
            console.log('‚úÖ ÌíàÏßà Í≤ÄÏ¶ù Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± ÏôÑÎ£å:', result.modelUsed || result.model)

        } catch (error) {
            console.error('‚ùå ÌíàÏßà Í≤ÄÏ¶ù Î∏îÎ°úÍ∑∏ ÏÉùÏÑ± Ïã§Ìå®:', error)
            
            if (error.response?.data?.message) {
                this.showError(error.response.data.message)
            } else {
                this.showError('ÌíàÏßà Í≤ÄÏ¶ù ÏãúÏä§ÌÖúÏóêÏÑú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.')
            }
            
            this.resetQAProgress()
        } finally {
            this.setQALoadingState(false)
        }
    }

    setSeoLoadingState(isLoading) {
        if (this.generateSeoBtn) {
            if (isLoading) {
                this.generateSeoBtn.disabled = true
                this.generateSeoBtn.innerHTML = `
                    <i class="fas fa-spinner fa-spin mr-2"></i>
                    SEO Î∂ÑÏÑù Ï§ë...
                `
                this.generateSeoBtn.classList.add('opacity-70')
            } else {
                this.generateSeoBtn.disabled = false
                this.generateSeoBtn.innerHTML = `
                    <i class="fas fa-search mr-2"></i>
                    SEO ÏµúÏ†ÅÌôî ÏÉùÏÑ± üî•
                `
                this.generateSeoBtn.classList.remove('opacity-70')
            }
        }
    }

    setQALoadingState(isLoading) {
        if (this.generateQaBtn) {
            if (isLoading) {
                this.generateQaBtn.disabled = true
                this.generateQaBtn.innerHTML = `
                    <i class="fas fa-spinner fa-spin mr-2"></i>
                    ÌíàÏßà Í≤ÄÏ¶ù Ï§ë...
                `
                this.generateQaBtn.classList.add('opacity-70')
            } else {
                this.generateQaBtn.disabled = false
                this.generateQaBtn.innerHTML = `
                    <i class="fas fa-shield-alt mr-2"></i>
                    ÌíàÏßà Í≤ÄÏ¶ù üõ°Ô∏è
                `
                this.generateQaBtn.classList.remove('opacity-70')
            }
        }
    }

    showQAProgress() {
        if (this.qaProgressSection) {
            this.qaProgressSection.classList.remove('hidden')
            
            // Î™®Îì† Îã®Í≥ÑÎ•º Ï¥àÍ∏∞ ÏÉÅÌÉúÎ°ú Î¶¨ÏÖã
            this.resetQAProgress()
            
            // Í≤∞Í≥º ÏÑπÏÖòÏúºÎ°ú Ïä§ÌÅ¨Î°§
            this.qaProgressSection.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            })
        }
    }

    resetQAProgress() {
        const statusElements = [this.step1Status, this.step2Status, this.step3Status]
        const detailElements = [this.step1Details, this.step2Details, this.step3Details]
        
        statusElements.forEach(element => {
            if (element) {
                element.className = 'w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center mr-4'
                element.innerHTML = '<i class="fas fa-clock text-gray-600 text-sm"></i>'
            }
        })

        const initialDetails = [
            'Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖúÏúºÎ°ú ÏµúÏ†Å Î™®Îç∏ ÏÑ†ÌÉù ÌõÑ ÏΩòÌÖêÏ∏† ÏÉùÏÑ±',
            '10Í∞ú Ìï≠Î™© Í∏∞Ï§ÄÏúºÎ°ú ÏΩòÌÖêÏ∏† ÌíàÏßà Î∂ÑÏÑù',
            'Í≤ÄÌÜ† Í≤∞Í≥ºÎ•º Î∞îÌÉïÏúºÎ°ú ÏΩòÌÖêÏ∏† ÌíàÏßà Ìñ•ÏÉÅ'
        ]

        detailElements.forEach((element, index) => {
            if (element) {
                element.textContent = initialDetails[index]
                element.className = 'text-sm text-gray-600'
            }
        })

        if (this.qaMetrics) {
            this.qaMetrics.classList.add('hidden')
        }
    }

    updateQAProgress(processingSteps) {
        if (!processingSteps || !Array.isArray(processingSteps)) return

        processingSteps.forEach(step => {
            let statusElement, detailElement

            switch (step.step) {
                case 'expert_selection':
                case 'initial_generation':
                    statusElement = this.step1Status
                    detailElement = this.step1Details
                    break
                case 'quality_review':
                    statusElement = this.step2Status
                    detailElement = this.step2Details
                    break
                case 'content_improvement':
                case 'regeneration':
                case 'approval':
                    statusElement = this.step3Status
                    detailElement = this.step3Details
                    break
            }

            if (statusElement && detailElement) {
                if (step.status === 'completed') {
                    statusElement.className = 'w-6 h-6 rounded-full bg-green-500 flex items-center justify-center mr-4'
                    statusElement.innerHTML = '<i class="fas fa-check text-white text-sm"></i>'
                    
                    if (step.details) {
                        detailElement.textContent = step.details
                        detailElement.className = 'text-sm text-green-600'
                    }
                } else if (step.status === 'in_progress') {
                    statusElement.className = 'w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center mr-4'
                    statusElement.innerHTML = '<i class="fas fa-spinner fa-spin text-white text-sm"></i>'
                    
                    if (step.details) {
                        detailElement.textContent = step.details
                        detailElement.className = 'text-sm text-blue-600'
                    }
                } else if (step.status === 'failed') {
                    statusElement.className = 'w-6 h-6 rounded-full bg-red-500 flex items-center justify-center mr-4'
                    statusElement.innerHTML = '<i class="fas fa-times text-white text-sm"></i>'
                    
                    if (step.details) {
                        detailElement.textContent = step.details
                        detailElement.className = 'text-sm text-red-600'
                    }
                }
            }
        })
    }

    displayQAResult(result) {
        if (!this.resultSection || !this.contentDiv || !this.generationInfo) {
            console.error('Í≤∞Í≥º ÌëúÏãú ÏöîÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.')
            return
        }

        // Í≤∞Í≥º ÏÑπÏÖò ÌëúÏãú
        this.resultSection.classList.remove('hidden')
        
        // SEO Î∂ÑÏÑù ÏÑπÏÖò ÌëúÏãú Ïó¨Î∂Ä (SEO Î™®ÎìúÏù∏ Í≤ΩÏö∞)
        if (result.seoAnalysis && result.seoMetadata) {
            this.seoAnalysisSection?.classList.remove('hidden')
        } else {
            this.seoAnalysisSection?.classList.add('hidden')
        }
        
        // ÏÉùÏÑ± Ï†ïÎ≥¥ ÌëúÏãú
        let infoHtml = `<i class="fas fa-shield-alt mr-2 text-indigo-600"></i>ÌíàÏßà Í≤ÄÏ¶ù Î™®Îç∏: ${result.modelUsed}`
        
        if (result.processingTime) {
            const processingTimeSeconds = Math.round(result.processingTime / 1000)
            infoHtml += ` <span class="ml-2 px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded-full">Ï≤òÎ¶¨ÏãúÍ∞Ñ: ${processingTimeSeconds}Ï¥à</span>`
        }
        
        this.generationInfo.innerHTML = infoHtml

        // Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖú Ï†ïÎ≥¥ ÌëúÏãú
        this.displayExpertSystemInfo(result.expertSelection)

        // ÌíàÏßà ÏßÄÌëú ÌëúÏãú
        if (result.qualityMetrics && this.qaMetrics) {
            this.qaMetrics.classList.remove('hidden')
            
            if (this.originalScore) {
                this.originalScore.textContent = result.qualityMetrics.originalScore.toFixed(1)
            }
            
            if (this.improvedScore) {
                this.improvedScore.textContent = result.qualityMetrics.improvedScore.toFixed(1)
            }
            
            if (this.improvementPercentage) {
                const improvement = result.qualityMetrics.improvementPercentage
                this.improvementPercentage.textContent = improvement > 0 ? `+${improvement}%` : `${improvement}%`
                
                // Í∞úÏÑ†Ïú®Ïóê Îî∞Î•∏ ÏÉâÏÉÅ Î≥ÄÍ≤Ω
                if (improvement > 0) {
                    this.improvementPercentage.className = 'text-2xl font-bold text-green-600'
                } else {
                    this.improvementPercentage.className = 'text-2xl font-bold text-gray-600'
                }
            }
        }

        // SEO Î∂ÑÏÑù Ï†ïÎ≥¥ ÌëúÏãú (SEO Î™®ÎìúÏù∏ Í≤ΩÏö∞)
        if (result.seoAnalysis && result.seoMetadata) {
            this.displaySEOAnalysis(result.seoAnalysis, result.seoMetadata)
        }

        // ÏΩòÌÖêÏ∏† ÌëúÏãú
        const contentToDisplay = result.content || result.finalContent
        this.contentDiv.innerHTML = this.markdownToHtml(contentToDisplay)

        // Í≤∞Í≥º ÏÑπÏÖòÏúºÎ°ú Ïä§ÌÅ¨Î°§
        this.resultSection.scrollIntoView({ 
            behavior: 'smooth', 
            block: 'start' 
        })

        console.log('üõ°Ô∏è ÌíàÏßà Í≤ÄÏ¶ù Í≤∞Í≥º ÌëúÏãú ÏôÑÎ£å:', result.qualityMetrics)
    }

    // Ïã§ÏãúÍ∞Ñ ÏûÖÎ†• Î∂ÑÏÑù Î∞è AI Ï∂îÏ≤ú
    analyzeInput() {
        const topic = this.topicInput?.value?.trim() || ''
        const audience = this.audienceSelect?.value || 'ÏùºÎ∞òÏù∏'
        const tone = this.toneSelect?.value || 'ÏπúÍ∑ºÌïú'

        if (topic.length < 2) {
            this.hideSmartGuide()
            return
        }

        // AI Î™®Îç∏ ÏòàÏ∏° Î°úÏßÅ (ÌîÑÎ°†Ìä∏ÏóîÎìú Î≤ÑÏ†Ñ)
        const prediction = this.predictOptimalAI(topic, audience, tone)
        this.showSmartGuide(prediction)
    }

    predictOptimalAI(topic, audience, tone) {
        const topicLower = topic.toLowerCase()
        const scores = { claude: 0, gemini: 0, openai: 0, grok: 0 }

        // ÎèÖÏûêÏ∏µ Í∏∞Î∞ò Ï†êÏàò (40%)
        if (['Ï†ÑÎ¨∏Í∞Ä', 'Ï§ëÍ∏âÏûê'].includes(audience)) {
            scores.claude += 40
        } else if (['Ï¥àÎ≥¥Ïûê', 'Ï§ëÍ∏âÏûê'].includes(audience)) {
            scores.gemini += 35
            scores.claude += 25
        } else if (['ÏùºÎ∞òÏù∏', 'Ï¥àÎ≥¥Ïûê'].includes(audience)) {
            scores.openai += 35
            scores.grok += 25
        }

        // Ï£ºÏ†ú ÌÇ§ÏõåÎìú Îß§Ïπ≠ (35%)
        const keywordSets = {
            claude: ['Í∏∞Ïà†', 'ÎπÑÏ¶àÎãàÏä§', 'Ìà¨Ïûê', 'Î∂ÑÏÑù', 'Ïó∞Íµ¨', 'Ï†ÑÎûµ', 'AI', 'Îç∞Ïù¥ÌÑ∞', 'Í≤ΩÏ†ú'],
            gemini: ['ÌïôÏäµ', 'ÍµêÏú°', 'Î∞©Î≤ï', 'Í∞ÄÏù¥Îìú', 'ÌäúÌÜ†Î¶¨Ïñº', 'ÌîÑÎ°úÏÑ∏Ïä§', 'Îã®Í≥Ñ', 'ÏãúÏä§ÌÖú'],
            openai: ['ÎùºÏù¥ÌîÑÏä§ÌÉÄÏùº', 'Ï∑®ÎØ∏', 'Ïó¨Ìñâ', 'ÏùåÏãù', 'Í±¥Í∞ï', 'Í¥ÄÍ≥Ñ', 'ÏùºÏÉÅ', 'Î¨∏Ìôî', 'ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏'],
            grok: ['Ìä∏Î†åÎìú', 'ÏÜåÏÖúÎØ∏ÎîîÏñ¥', 'ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏', 'Ïä§ÌÉÄÌä∏ÏóÖ', 'Í∏∞Ïà† Ìä∏Î†åÎìú', 'Î¨∏Ìôî', 'Ïú†Î®∏', 'Î∞îÏù¥Îü¥', 'ÏµúÏã†']
        }

        Object.entries(keywordSets).forEach(([model, keywords]) => {
            const matchCount = keywords.filter(keyword => topicLower.includes(keyword)).length
            scores[model] += matchCount * 8
        })

        // ÌÜ§ Îß§Ïπ≠ (15%)
        if (['Ï†ÑÎ¨∏Ï†Å', 'ÏßÑÏßÄÌïú'].includes(tone)) {
            scores.claude += 15
        } else if (tone === 'ÏπúÍ∑ºÌïú') {
            scores.openai += 12
            scores.gemini += 10
            scores.grok += 8
        } else if (tone === 'Ïú†Î®∏Îü¨Ïä§') {
            scores.grok += 15
            scores.openai += 12
        }

        // GROK ÌäπÌôî Î≥¥ÎÑàÏä§
        const trendKeywords = ['Ìä∏Î†åÎìú', 'ÏµúÏã†', 'ÏöîÏ¶ò', 'ÌôîÏ†ú', 'Ïù∏Í∏∞', 'Î∞îÏù¥Îü¥', 'Ïã§ÏãúÍ∞Ñ', 'ÏßÄÍ∏à', 'ÌòÑÏû¨']
        const socialKeywords = ['ÏÜåÏÖúÎØ∏ÎîîÏñ¥', 'sns', 'Ïù∏Ïä§ÌÉÄ', 'Ìã±ÌÜ°', 'mzÏÑ∏ÎåÄ', 'zÏÑ∏ÎåÄ', 'Ï†äÏùÄ', '20ÎåÄ', '30ÎåÄ']
        const creativeKeywords = ['Ï∞ΩÏùò', 'ÏïÑÏù¥ÎîîÏñ¥', 'Ïû¨ÎØ∏', 'Ïú†Î®∏', 'ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏', 'Î¨∏Ìôî', 'ÏòàÏà†', 'ÏΩòÌÖêÏ∏†']

        if (trendKeywords.some(k => topicLower.includes(k))) scores.grok += 25
        if (socialKeywords.some(k => topicLower.includes(k))) scores.grok += 20
        if (creativeKeywords.some(k => topicLower.includes(k))) scores.grok += 15
        if (audience === 'ÏùºÎ∞òÏù∏' && tone === 'Ïú†Î®∏Îü¨Ïä§') scores.grok += 20

        // ÏµúÍ≥† Ï†êÏàò Î™®Îç∏ ÏÑ†ÌÉù
        const bestModel = Object.entries(scores).reduce((a, b) => 
            scores[a[0]] > scores[b[0]] ? a : b
        )[0]

        const confidence = Math.min(scores[bestModel], 100)

        const aiProfiles = {
            claude: { name: 'üî¨ Claude (Î∂ÑÏÑù Ï†ÑÎ¨∏Í∞Ä)', reason: 'ÎÖºÎ¶¨Ï†Å Î∂ÑÏÑùÍ≥º Ï†ÑÎ¨∏Ï†Å Ïù∏ÏÇ¨Ïù¥Ìä∏Ïóê ÏµúÏ†ÅÌôî' },
            gemini: { name: 'üéì Gemini (ÍµêÏú° Ï†ÑÎ¨∏Í∞Ä)', reason: 'Ï≤¥Í≥ÑÏ†Å ÏÑ§Î™ÖÍ≥º ÌïôÏäµ Í∞ÄÏù¥ÎìúÏóê ÌäπÌôî' },
            openai: { name: 'üí¨ OpenAI (ÏÜåÌÜµ Ï†ÑÎ¨∏Í∞Ä)', reason: 'ÏûêÏó∞Ïä§Îü¨Ïö¥ ÎåÄÌôîÏôÄ Ïä§ÌÜ†Î¶¨ÌÖîÎßÅÏóê Í∞ïÏ†ê' },
            grok: { name: 'üî• GROK (Ìä∏Î†åÎìú Ï†ÑÎ¨∏Í∞Ä)', reason: 'Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìúÏôÄ Î∞îÏù¥Îü¥ ÏΩòÌÖêÏ∏†Ïóê ÌäπÌôî' }
        }

        return {
            model: bestModel,
            profile: aiProfiles[bestModel],
            confidence,
            scores
        }
    }

    showSmartGuide(prediction) {
        if (!this.topicGuide || !this.recommendedAI || !this.guideReason) return

        // AI Ï∂îÏ≤ú ÌëúÏãú
        this.recommendedAI.textContent = prediction.profile.name
        this.guideReason.textContent = prediction.profile.reason

        // ÏµúÏ†ÅÌôî ÌåÅ ÏÉùÏÑ±
        const tips = this.generateOptimizationTips(prediction)
        if (this.tipsList) {
            this.tipsList.innerHTML = ''
            tips.forEach(tip => {
                const li = document.createElement('li')
                li.innerHTML = `<i class="fas fa-check mr-2"></i>${tip}`
                this.tipsList.appendChild(li)
            })
        }

        // Í∞ÄÏù¥Îìú ÌëúÏãú
        this.topicGuide.classList.remove('hidden')
        if (tips.length > 0) {
            this.optimizationTips.classList.remove('hidden')
        }
    }

    hideSmartGuide() {
        if (this.topicGuide) this.topicGuide.classList.add('hidden')
        if (this.optimizationTips) this.optimizationTips.classList.add('hidden')
    }

    generateOptimizationTips(prediction) {
        const tips = []
        const { model, confidence } = prediction

        if (model === 'grok') {
            tips.push('Ìä∏Î†åÎìú ÌÇ§ÏõåÎìúÎ•º Îçî Ï∂îÍ∞ÄÌïòÎ©¥ Î∞îÏù¥Îü¥ Ìö®Í≥º Ï¶ùÎåÄ')
            tips.push('Ï†äÏùÄÏ∏µ Ïñ∏Ïñ¥ÎÇò Ïù∏ÌÑ∞ÎÑ∑ Ïö©Ïñ¥ ÌôúÏö© Í∂åÏû•')
            tips.push('ÏÜåÏÖúÎØ∏ÎîîÏñ¥ Í≥µÏú†Î•º ÏóºÎëêÏóê Îëî Ï†úÎ™© ÏûëÏÑ±')
        } else if (model === 'claude') {
            tips.push('Íµ¨Ï≤¥Ï†ÅÏù∏ Îç∞Ïù¥ÌÑ∞ÎÇò ÌÜµÍ≥Ñ Ïñ∏Í∏âÏúºÎ°ú Ï†ÑÎ¨∏ÏÑ± Í∞ïÌôî')
            tips.push('Î∂ÑÏÑùÏ†Å Í¥ÄÏ†êÏù¥ ÌïÑÏöîÌïú Ï£ºÏ†úÏûÑÏùÑ Í∞ïÏ°∞')
            tips.push('ÎÖºÎ¶¨Ï†Å Íµ¨Ï°∞ÏôÄ Í∑ºÍ±∞ Ï§ëÏã¨ ÎÇ¥Ïö© ÏöîÏ≤≠')
        } else if (model === 'gemini') {
            tips.push('Îã®Í≥ÑÎ≥Ñ ÌïôÏäµÏù¥ Í∞ÄÎä•ÌïòÎèÑÎ°ù Ï≤¥Í≥ÑÌôî')
            tips.push('Ï¥àÎ≥¥ÏûêÎèÑ Ïù¥Ìï¥Ìï† Ïàò ÏûàÎäî ÏÑ§Î™Ö ÏöîÏ≤≠')
            tips.push('Ïã§ÏäµÏù¥ÎÇò ÏòàÏ†ú Ìè¨Ìï® Í∂åÏû•')
        } else if (model === 'openai') {
            tips.push('Í∞úÏù∏Ï†Å Í≤ΩÌóòÏù¥ÎÇò Ïä§ÌÜ†Î¶¨ Ìè¨Ìï® Í∂åÏû•')
            tips.push('ÎèÖÏûêÏôÄÏùò Í≥µÍ∞êÎåÄ ÌòïÏÑ±Ïóê Ï§ëÏ†ê')
            tips.push('ÏùºÏÉÅÏ†ÅÏù¥Í≥† ÏπúÍ∑ºÌïú ÌÜ§ Ïú†ÏßÄ')
        }

        if (confidence < 70) {
            tips.push('Îçî Íµ¨Ï≤¥Ï†ÅÏù∏ Ï£ºÏ†úÎ°ú ÏàòÏ†ïÌïòÎ©¥ Ï†ïÌôïÎèÑ Ìñ•ÏÉÅ')
        }

        return tips.slice(0, 3) // ÏµúÎåÄ 3Í∞ú ÌåÅÎßå ÌëúÏãú
    }

    toggleSmartGuide() {
        if (this.dynamicGuide.classList.contains('hidden')) {
            this.dynamicGuide.classList.remove('hidden')
            this.toggleGuideBtn.innerHTML = '<i class="fas fa-eye-slash mr-1"></i>Ïà®Í∏∞Í∏∞'
            this.analyzeInput() // ÌòÑÏû¨ ÏûÖÎ†• Î∂ÑÏÑù
        } else {
            this.dynamicGuide.classList.add('hidden')
            this.toggleGuideBtn.innerHTML = '<i class="fas fa-lightbulb mr-1"></i>ÎèÑÏõÄÎßê'
        }
    }

    displaySEOResult(result) {
        if (!this.resultSection || !this.contentDiv || !this.generationInfo) {
            console.error('Í≤∞Í≥º ÌëúÏãú ÏöîÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.')
            return
        }

        // Í≤∞Í≥º ÏÑπÏÖò ÌëúÏãú
        this.resultSection.classList.remove('hidden')
        this.seoAnalysisSection.classList.remove('hidden')
        
        // ÏÉùÏÑ± Ï†ïÎ≥¥ ÌëúÏãú
        let infoHtml = `<i class="fas fa-search mr-2 text-green-600"></i>SEO ÏµúÏ†ÅÌôî Î™®Îç∏: ${result.model}`
        
        if (result.isDemo) {
            infoHtml += ` <span class="ml-2 px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full">Îç∞Î™® Î™®Îìú</span>`
        }
        
        if (result.message) {
            infoHtml += `<br><i class="fas fa-info-circle mr-2"></i>${result.message}`
        }
        
        this.generationInfo.innerHTML = infoHtml

        // Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖú Ï†ïÎ≥¥ ÌëúÏãú
        this.displayExpertSystemInfo(result.expertSelection)

        // SEO Î∂ÑÏÑù Ï†ïÎ≥¥ ÌëúÏãú
        if (result.seoAnalysis && result.seoMetadata) {
            this.displaySEOAnalysis(result.seoAnalysis, result.seoMetadata)
        }

        // ÏΩòÌÖêÏ∏† ÌëúÏãú
        this.contentDiv.innerHTML = this.markdownToHtml(result.content)

        // Í≤∞Í≥º ÏÑπÏÖòÏúºÎ°ú Ïä§ÌÅ¨Î°§
        this.resultSection.scrollIntoView({ 
            behavior: 'smooth', 
            block: 'start' 
        })
    }

    displaySEOAnalysis(analysis, metadata) {
        // SEO Ï†êÏàò ÌëúÏãú
        if (this.seoScore && this.seoScoreProgress) {
            this.seoScore.textContent = analysis.seoScore || 0
            this.seoScoreProgress.style.width = `${analysis.seoScore || 0}%`
            
            // Ï†êÏàòÏóê Îî∞Î•∏ ÏÉâÏÉÅ Î≥ÄÍ≤Ω
            const scoreColor = analysis.seoScore >= 80 ? 'bg-green-500' : 
                             analysis.seoScore >= 60 ? 'bg-yellow-500' : 'bg-red-500'
            this.seoScoreProgress.className = `h-3 rounded-full ${scoreColor}`
        }

        // ÌÇ§ÏõåÎìú Î∞ÄÎèÑ ÌëúÏãú
        if (this.keywordDensity && this.focusKeywordDisplay) {
            this.keywordDensity.textContent = `${analysis.keywordDensity || 0}%`
            this.focusKeywordDisplay.textContent = metadata.focusKeyword || ''
        }

        // ÏùΩÍ∏∞ ÏãúÍ∞Ñ ÌëúÏãú
        if (this.readingTime && this.wordCount) {
            this.readingTime.textContent = metadata.readingTime || 0
            this.wordCount.textContent = metadata.wordCount || 0
        }

        // SEO Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ ÌëúÏãú
        if (this.seoTitle) this.seoTitle.textContent = metadata.title || ''
        if (this.metaDescription) this.metaDescription.textContent = metadata.metaDescription || ''
        if (this.seoKeywords) this.seoKeywords.textContent = metadata.keywords?.join(', ') || ''

        // SEO Í∂åÏû•ÏÇ¨Ìï≠ ÌëúÏãú
        if (this.recommendationsList && analysis.recommendations) {
            this.recommendationsList.innerHTML = ''
            analysis.recommendations.forEach(rec => {
                const li = document.createElement('li')
                li.innerHTML = `<i class="fas fa-lightbulb mr-2 text-yellow-500"></i>${rec}`
                li.className = 'text-gray-700'
                this.recommendationsList.appendChild(li)
            })
        }
    }

    displayExpertSystemInfo(expertSelection) {
        if (!expertSelection || !this.expertSystemInfo) {
            // Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖú Ï†ïÎ≥¥Í∞Ä ÏóÜÏúºÎ©¥ Ïà®ÍπÄ
            if (this.expertSystemInfo) {
                this.expertSystemInfo.classList.add('hidden')
            }
            return
        }

        // Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖú Ï†ïÎ≥¥ ÌëúÏãú
        this.expertSystemInfo.classList.remove('hidden')
        
        if (this.selectedExpert) {
            this.selectedExpert.textContent = expertSelection.expert.name
        }
        
        if (this.confidence) {
            this.confidence.textContent = expertSelection.confidence
        }
        
        if (this.expertReasoning) {
            // Í∞úÌñâÏùÑ <br>Î°ú Î≥ÄÌôòÌïòÏó¨ ÌëúÏãú
            const formattedReasoning = expertSelection.reasoning.replace(/\n/g, '<br>')
            this.expertReasoning.innerHTML = formattedReasoning
        }
        
        console.log('üß† Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖú Ï†ïÎ≥¥ ÌëúÏãú:', expertSelection)
    }

    setLoadingState(isLoading) {
        if (this.generateBtn) {
            if (isLoading) {
                this.generateBtn.disabled = true
                this.generateBtn.innerHTML = `
                    <i class="fas fa-spinner fa-spin mr-2"></i>
                    ÏÉùÏÑ± Ï§ë...
                `
                this.generateBtn.classList.add('opacity-70')
            } else {
                this.generateBtn.disabled = false
                this.generateBtn.innerHTML = `
                    <i class="fas fa-magic mr-2"></i>
                    Î∏îÎ°úÍ∑∏ Í∏Ä ÏÉùÏÑ±ÌïòÍ∏∞
                `
                this.generateBtn.classList.remove('opacity-70')
            }
        }
    }

    displayResult(result) {
        if (!this.resultSection || !this.contentDiv || !this.generationInfo) {
            console.error('Í≤∞Í≥º ÌëúÏãú ÏöîÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.')
            return
        }

        // Í≤∞Í≥º ÏÑπÏÖò ÌëúÏãú
        this.resultSection.classList.remove('hidden')
        // SEO Î∂ÑÏÑù ÏÑπÏÖò Ïà®ÍπÄ (ÏùºÎ∞ò Î™®Îìú)
        if (this.seoAnalysisSection) {
            this.seoAnalysisSection.classList.add('hidden')
        }
        
        // ÏÉùÏÑ± Ï†ïÎ≥¥ ÌëúÏãú
        let infoHtml = `<i class="fas fa-robot mr-2"></i>Î™®Îç∏: ${result.model}`
        
        if (result.isDemo) {
            infoHtml += ` <span class="ml-2 px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full">Îç∞Î™® Î™®Îìú</span>`
        }
        
        if (result.message) {
            infoHtml += `<br><i class="fas fa-info-circle mr-2"></i>${result.message}`
        }
        
        this.generationInfo.innerHTML = infoHtml

        // Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖú Ï†ïÎ≥¥ ÌëúÏãú
        this.displayExpertSystemInfo(result.expertSelection)

        // ÏΩòÌÖêÏ∏† ÌëúÏãú (ÎßàÌÅ¨Îã§Ïö¥ÏùÑ HTMLÎ°ú Î≥ÄÌôò)
        this.contentDiv.innerHTML = this.markdownToHtml(result.content)

        // Í≤∞Í≥º ÏÑπÏÖòÏúºÎ°ú Ïä§ÌÅ¨Î°§
        this.resultSection.scrollIntoView({ 
            behavior: 'smooth', 
            block: 'start' 
        })
    }

    markdownToHtml(markdown) {
        let html = markdown

        // Ï†úÎ™© Î≥ÄÌôò
        html = html.replace(/^### (.*$)/gim, '<h3 class="text-xl font-semibold text-gray-800 mt-6 mb-3">$1</h3>')
        html = html.replace(/^## (.*$)/gim, '<h2 class="text-2xl font-bold text-gray-800 mt-8 mb-4">$1</h2>')
        html = html.replace(/^# (.*$)/gim, '<h1 class="text-3xl font-bold text-gray-900 mb-6">$1</h1>')

        // ÍµµÏùÄ Í∏ÄÏî®
        html = html.replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold text-gray-900">$1</strong>')

        // Í∏∞Ïö∏ÏûÑÏ≤¥
        html = html.replace(/\*(.*?)\*/g, '<em class="italic">$1</em>')

        // ÎßÅÌÅ¨
        html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" class="text-blue-600 hover:text-blue-800 underline" target="_blank">$1</a>')

        // ÏΩîÎìú Î∏îÎ°ù
        html = html.replace(/```([^`]+)```/g, '<pre class="bg-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code>$1</code></pre>')

        // Ïù∏ÎùºÏù∏ ÏΩîÎìú
        html = html.replace(/`([^`]+)`/g, '<code class="bg-gray-100 px-2 py-1 rounded text-sm">$1</code>')

        // Î¶¨Ïä§Ìä∏ Î≥ÄÌôò
        html = html.replace(/^\* (.+$)/gim, '<li class="mb-2">$1</li>')
        html = html.replace(/^- (.+$)/gim, '<li class="mb-2">$1</li>')
        html = html.replace(/^\d+\. (.+$)/gim, '<li class="mb-2">$1</li>')

        // Î¶¨Ïä§Ìä∏ Í∞êÏã∏Í∏∞
        html = html.replace(/(<li class="mb-2">.*<\/li>)/gs, '<ul class="list-disc list-inside mb-4 space-y-1">$1</ul>')

        // Î¨∏Îã® Î≥ÄÌôò
        html = html.replace(/\n\n/g, '</p><p class="mb-4">')
        html = '<p class="mb-4">' + html + '</p>'

        // Îπà Î¨∏Îã® Ï†úÍ±∞
        html = html.replace(/<p class="mb-4"><\/p>/g, '')

        // Ï§ÑÎ∞îÍøà Î≥ÄÌôò
        html = html.replace(/\n/g, '<br>')

        return html
    }

    copyContent() {
        if (!this.contentDiv) return

        const content = this.contentDiv.textContent || this.contentDiv.innerText
        
        if (navigator.clipboard) {
            navigator.clipboard.writeText(content).then(() => {
                this.showSuccess('ÏΩòÌÖêÏ∏†Í∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!')
            }).catch(() => {
                this.fallbackCopy(content)
            })
        } else {
            this.fallbackCopy(content)
        }
    }

    fallbackCopy(text) {
        const textArea = document.createElement('textarea')
        textArea.value = text
        textArea.style.position = 'fixed'
        textArea.style.opacity = '0'
        document.body.appendChild(textArea)
        textArea.select()
        
        try {
            document.execCommand('copy')
            this.showSuccess('ÏΩòÌÖêÏ∏†Í∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!')
        } catch (err) {
            this.showError('Î≥µÏÇ¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.')
        }
        
        document.body.removeChild(textArea)
    }

    showSuccess(message) {
        this.showNotification(message, 'success')
    }

    showError(message) {
        this.showNotification(message, 'error')
    }

    showNotification(message, type = 'info') {
        // Í∏∞Ï°¥ ÏïåÎ¶º Ï†úÍ±∞
        const existingNotification = document.getElementById('notification')
        if (existingNotification) {
            existingNotification.remove()
        }

        // ÏÉà ÏïåÎ¶º ÏÉùÏÑ±
        const notification = document.createElement('div')
        notification.id = 'notification'
        
        const bgColor = type === 'success' ? 'bg-green-500' : 
                       type === 'error' ? 'bg-red-500' : 'bg-blue-500'
        
        const icon = type === 'success' ? 'fa-check-circle' : 
                    type === 'error' ? 'fa-exclamation-triangle' : 'fa-info-circle'

        notification.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full`
        notification.innerHTML = `
            <div class="flex items-center">
                <i class="fas ${icon} mr-2"></i>
                <span>${message}</span>
            </div>
        `

        document.body.appendChild(notification)

        // Ïï†ÎãàÎ©îÏù¥ÏÖòÏúºÎ°ú ÌëúÏãú
        setTimeout(() => {
            notification.classList.remove('translate-x-full')
        }, 100)

        // 3Ï¥à ÌõÑ ÏûêÎèô Ï†úÍ±∞
        setTimeout(() => {
            notification.classList.add('translate-x-full')
            setTimeout(() => {
                if (notification && notification.parentNode) {
                    notification.parentNode.removeChild(notification)
                }
            }, 300)
        }, 3000)
    }

    // ==================== ÏÇ¨Ïö©Ïûê Í∞ÄÏù¥Îìú ÏãúÏä§ÌÖú ====================
    
    initializeTutorial() {
        this.tutorialStep = 0
        this.isFirstVisit = !localStorage.getItem('tutorialCompleted')
        
        // ÌäúÌÜ†Î¶¨Ïñº UI ÏöîÏÜåÎì§
        this.tutorialModal = null
        this.tutorialOverlay = null
        
        // Ï≤´ Î∞©Î¨∏ÏûêÏùº Í≤ΩÏö∞ ÏûêÎèô ÌäúÌÜ†Î¶¨Ïñº ÏãúÏûë
        if (this.isFirstVisit) {
            setTimeout(() => this.startTutorial(), 2000)
        }
        
        // ÎèÑÏõÄÎßê Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
        const helpBtn = document.getElementById('startTutorialBtn')
        if (helpBtn) {
            helpBtn.addEventListener('click', () => this.startTutorial())
        }
        
        // Îπ†Î•∏ ÌÖúÌîåÎ¶ø Î≤ÑÌäºÎì§
        this.setupQuickTemplates()
        
        // ÏÑ±Í≥µ ÏÇ¨Î°Ä ÏáºÏºÄÏù¥Ïä§ ÏÑ§Ï†ï
        this.setupSuccessShowcase()
    }
    
    startTutorial() {
        this.tutorialStep = 0
        this.createTutorialModal()
        this.showTutorialStep()
    }
    
    createTutorialModal() {
        // Í∏∞Ï°¥ Î™®Îã¨ Ï†úÍ±∞
        if (this.tutorialModal) {
            this.tutorialModal.remove()
        }
        
        // Ïò§Î≤ÑÎ†àÏù¥ ÏÉùÏÑ±
        this.tutorialOverlay = document.createElement('div')
        this.tutorialOverlay.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 tutorial-overlay'
        
        // Î™®Îã¨ ÏÉùÏÑ±
        this.tutorialModal = document.createElement('div')
        this.tutorialModal.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 max-w-md w-full mx-4 tutorial-modal'
        
        // Î™®Îã¨ ÎÇ¥Ïö©
        this.tutorialModal.innerHTML = `
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-800" id="tutorialTitle">ÏÇ¨Ïö©Î≤ï Í∞ÄÏù¥Îìú</h3>
                    <button class="text-gray-400 hover:text-gray-600" id="closeTutorial">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="tutorialContent" class="mb-6 text-gray-600">
                    <!-- ÌäúÌÜ†Î¶¨Ïñº ÎÇ¥Ïö©Ïù¥ Ïó¨Í∏∞Ïóê Îì§Ïñ¥Í∞ê -->
                </div>
                <div class="flex justify-between">
                    <button class="px-4 py-2 text-gray-600 hover:text-gray-800" id="prevStep">Ïù¥Ï†Ñ</button>
                    <div class="flex space-x-2" id="stepIndicators">
                        <!-- Îã®Í≥Ñ ÌëúÏãúÍ∏∞Í∞Ä Ïó¨Í∏∞Ïóê Îì§Ïñ¥Í∞ê -->
                    </div>
                    <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600" id="nextStep">Îã§Ïùå</button>
                </div>
            </div>
        `
        
        // DOMÏóê Ï∂îÍ∞Ä
        document.body.appendChild(this.tutorialOverlay)
        document.body.appendChild(this.tutorialModal)
        
        // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà ÏÑ§Ï†ï
        this.setupTutorialEvents()
    }
    
    setupTutorialEvents() {
        const closeBtn = this.tutorialModal.querySelector('#closeTutorial')
        const prevBtn = this.tutorialModal.querySelector('#prevStep')
        const nextBtn = this.tutorialModal.querySelector('#nextStep')
        
        closeBtn.addEventListener('click', () => this.closeTutorial())
        prevBtn.addEventListener('click', () => this.previousTutorialStep())
        nextBtn.addEventListener('click', () => this.nextTutorialStep())
        
        // ESC ÌÇ§Î°ú Îã´Í∏∞
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && this.tutorialModal) {
                this.closeTutorial()
            }
        })
        
        // Ïò§Î≤ÑÎ†àÏù¥ ÌÅ¥Î¶≠ÏúºÎ°ú Îã´Í∏∞
        this.tutorialOverlay.addEventListener('click', () => this.closeTutorial())
        this.tutorialModal.addEventListener('click', (e) => e.stopPropagation())
    }
    
    showTutorialStep() {
        const steps = [
            {
                title: 'üéØ 4-AI Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖú ÏÜåÍ∞ú',
                content: `
                    <div class="space-y-3">
                        <p><strong>Í∞Å AI Ï†ÑÎ¨∏Í∞ÄÏùò ÌäπÏÑ±ÏùÑ ÌååÏïÖÌïòÍ≥† ÏµúÏ†ÅÏùò ÏÑ†ÌÉùÏùÑ Ìï¥Î≥¥ÏÑ∏Ïöî:</strong></p>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="text-sm space-y-2">
                                <div><span class="font-medium">üî¨ Claude:</span> ÎÖºÎ¶¨Ï†Å Î∂ÑÏÑù, Ï†ÑÎ¨∏ ÏßÄÏãù, Ï≤¥Í≥ÑÏ†Å Íµ¨Ï°∞</div>
                                <div><span class="font-medium">üéì Gemini:</span> ÍµêÏú° ÏΩòÌÖêÏ∏†, Îã®Í≥ÑÎ≥Ñ ÏÑ§Î™Ö, ÌïôÏäµ Í∞ÄÏù¥Îìú</div>
                                <div><span class="font-medium">üí¨ OpenAI:</span> ÏûêÏó∞Ïä§Îü¨Ïö¥ ÎåÄÌôî, Ïä§ÌÜ†Î¶¨ÌÖîÎßÅ, Ï∞ΩÏùòÏ†Å ÌëúÌòÑ</div>
                                <div><span class="font-medium">üî• GROK:</span> Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú, Î∞îÏù¥Îü¥ ÏΩòÌÖêÏ∏†, Ï†äÏùÄÏ∏µ ÏÜåÌÜµ</div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600">üí° <strong>ÌåÅ:</strong> Ï£ºÏ†úÏóê Îî∞Îùº ÏûêÎèôÏúºÎ°ú ÏµúÏ†ÅÏùò AIÍ∞Ä Ï∂îÏ≤úÎê©ÎãàÎã§!</p>
                    </div>
                `
            },
            {
                title: 'üìù Ï£ºÏ†ú ÏûÖÎ†•Ïùò ÌïµÏã¨',
                content: `
                    <div class="space-y-3">
                        <p><strong>Ìö®Í≥ºÏ†ÅÏù∏ Ï£ºÏ†ú ÏûÖÎ†• Î∞©Î≤ï:</strong></p>
                        <div class="bg-green-50 p-3 rounded">
                            <p class="font-medium text-green-800 mb-2">‚úÖ Ï¢ãÏùÄ ÏòàÏãú:</p>
                            <div class="text-sm space-y-1">
                                <div>‚Ä¢ "2024ÎÖÑ ÏµúÏã† AI Ìä∏Î†åÎìúÏôÄ ÎπÑÏ¶àÎãàÏä§ ÌôúÏö©Î≤ï"</div>
                                <div>‚Ä¢ "Ï¥àÎ≥¥ÏûêÎ•º ÏúÑÌïú ÌååÏù¥Ïç¨ Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Í∞ÄÏù¥Îìú"</div>
                                <div>‚Ä¢ "MZÏÑ∏ÎåÄÍ∞Ä Ïó¥Í¥ëÌïòÎäî ÏÜåÏÖúÎØ∏ÎîîÏñ¥ ÎßàÏºÄÌåÖ Ï†ÑÎûµ"</div>
                            </div>
                        </div>
                        <div class="bg-red-50 p-3 rounded">
                            <p class="font-medium text-red-800 mb-2">‚ùå ÌîºÌï¥Ïïº Ìï† ÏòàÏãú:</p>
                            <div class="text-sm space-y-1">
                                <div>‚Ä¢ "AI" (ÎÑàÎ¨¥ Í¥ëÎ≤îÏúÑ)</div>
                                <div>‚Ä¢ "Ï¢ãÏùÄ Í∏Ä" (Î™®Ìò∏Ìï®)</div>
                                <div>‚Ä¢ "ÎèÑÏõÄ" (Íµ¨Ï≤¥ÏÑ± Î∂ÄÏ°±)</div>
                            </div>
                        </div>
                    </div>
                `
            },
            {
                title: 'üéØ ÌÉÄÍ≤ü ÎèÖÏûêÏôÄ ÌÜ§ ÏÑ§Ï†ï',
                content: `
                    <div class="space-y-3">
                        <p><strong>ÎèÖÏûêÏ∏µÍ≥º ÌÜ§Ïùò Ï§ëÏöîÏÑ±:</strong></p>
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div class="bg-blue-50 p-3 rounded">
                                <p class="font-medium text-blue-800 mb-1">üë• ÎèÖÏûêÏ∏µÎ≥Ñ ÌäπÏßï:</p>
                                <div class="space-y-1">
                                    <div><strong>Ï†ÑÎ¨∏Í∞Ä:</strong> Í∏∞Ïà†Ï†Å ÏÑ∏Î∂ÄÏÇ¨Ìï≠</div>
                                    <div><strong>ÏùºÎ∞òÏù∏:</strong> Ïâ¨Ïö¥ ÏÑ§Î™ÖÍ≥º ÏòàÏãú</div>
                                    <div><strong>Ï¥àÎ≥¥Ïûê:</strong> Í∏∞Ï¥àÎ∂ÄÌÑ∞ Îã®Í≥ÑÎ≥Ñ</div>
                                </div>
                            </div>
                            <div class="bg-purple-50 p-3 rounded">
                                <p class="font-medium text-purple-800 mb-1">üé≠ ÌÜ§Î≥Ñ Ìö®Í≥º:</p>
                                <div class="space-y-1">
                                    <div><strong>Ï†ÑÎ¨∏Ï†Å:</strong> Ïã†Î¢∞ÏÑ± Í∞ïÌôî</div>
                                    <div><strong>ÏπúÍ∑ºÌïú:</strong> Ï†ëÍ∑ºÏÑ± Ìñ•ÏÉÅ</div>
                                    <div><strong>Ïú†Î®∏Îü¨Ïä§:</strong> Ï∞∏Ïó¨ÎèÑ Ï¶ùÍ∞Ä</div>
                                </div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600">üí° Í∞ôÏùÄ Ï£ºÏ†úÎùºÎèÑ ÎèÖÏûêÏôÄ ÌÜ§Ïóê Îî∞Îùº ÏôÑÏ†ÑÌûà Îã§Î•∏ Í∏ÄÏù¥ ÏÉùÏÑ±Îê©ÎãàÎã§!</p>
                    </div>
                `
            },
            {
                title: 'üöÄ Ïã§ÏãúÍ∞Ñ Ïä§ÎßàÌä∏ Í∞ÄÏù¥Îìú ÌôúÏö©',
                content: `
                    <div class="space-y-3">
                        <p><strong>ÏûÖÎ†•ÌïòÎäî Ï¶âÏãú ÏµúÏ†ÅÏùò AIÎ•º Ï∂îÏ≤úÎ∞õÏúºÏÑ∏Ïöî:</strong></p>
                        <div class="bg-yellow-50 p-3 rounded border-l-4 border-yellow-400">
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-lightbulb text-yellow-600 mt-1"></i>
                                <div class="text-sm">
                                    <p class="font-medium mb-2">Ïä§ÎßàÌä∏ Í∞ÄÏù¥ÎìúÍ∞Ä ÏûêÎèôÏúºÎ°ú Î∂ÑÏÑùÌïòÎäî Ìï≠Î™©:</p>
                                    <ul class="space-y-1 list-disc list-inside">
                                        <li>ÌÇ§ÏõåÎìú Í∏∞Î∞ò AI Î™®Îç∏ Ï∂îÏ≤ú</li>
                                        <li>ÏΩòÌÖêÏ∏† ÏµúÏ†ÅÌôî ÌåÅ Ï†úÏïà</li>
                                        <li>ÏòàÏÉÅ Ïã†Î¢∞ÎèÑ Ï†êÏàò ÌëúÏãú</li>
                                        <li>Ïã§ÏãúÍ∞Ñ Í∞úÏÑ† Î∞©Ïïà ÏïàÎÇ¥</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600"><strong>Ïò§Î•∏Ï™Ω ÌïòÎã®Ïùò 'üí° ÎèÑÏõÄÎßê' Î≤ÑÌäº</strong>ÏùÑ ÌÅ¥Î¶≠ÌïòÎ©¥ Ïñ∏Ï†úÎì† Í∞ÄÏù¥ÎìúÎ•º ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                    </div>
                `
            },
            {
                title: '‚ö° Îπ†Î•∏ ÏãúÏûë ÌÖúÌîåÎ¶ø',
                content: `
                    <div class="space-y-3">
                        <p><strong>ÏûêÏ£º ÏÇ¨Ïö©ÌïòÎäî ÌÖúÌîåÎ¶øÏúºÎ°ú Îπ†Î•¥Í≤å ÏãúÏûëÌïòÏÑ∏Ïöî:</strong></p>
                        <div class="grid grid-cols-1 gap-2 text-sm">
                            <button class="template-btn p-2 bg-gradient-to-r from-blue-50 to-blue-100 rounded border border-blue-200 text-left hover:from-blue-100 hover:to-blue-200 transition-all" data-template="tech">
                                <div class="font-medium">üì± IT/Í∏∞Ïà† Î∏îÎ°úÍ∑∏</div>
                                <div class="text-xs text-gray-600">ÏµúÏã† Í∏∞Ïà† Ìä∏Î†åÎìúÏôÄ Í∞úÎ∞ú ÌåÅ</div>
                            </button>
                            <button class="template-btn p-2 bg-gradient-to-r from-green-50 to-green-100 rounded border border-green-200 text-left hover:from-green-100 hover:to-green-200 transition-all" data-template="business">
                                <div class="font-medium">üíº ÎπÑÏ¶àÎãàÏä§ Ï†ÑÎûµ</div>
                                <div class="text-xs text-gray-600">ÎßàÏºÄÌåÖ, Í≤ΩÏòÅ, ÏÑ±Ïû• Ï†ÑÎûµ</div>
                            </button>
                            <button class="template-btn p-2 bg-gradient-to-r from-purple-50 to-purple-100 rounded border border-purple-200 text-left hover:from-purple-100 hover:to-purple-200 transition-all" data-template="lifestyle">
                                <div class="font-medium">üåø ÎùºÏù¥ÌîÑÏä§ÌÉÄÏùº</div>
                                <div class="text-xs text-gray-600">Í±¥Í∞ï, Ï∑®ÎØ∏, ÏùºÏÉÅ ÌåÅ</div>
                            </button>
                            <button class="template-btn p-2 bg-gradient-to-r from-red-50 to-red-100 rounded border border-red-200 text-left hover:from-red-100 hover:to-red-200 transition-all" data-template="trending">
                                <div class="font-medium">üî• Ìä∏Î†åÎìú/Î∞îÏù¥Îü¥</div>
                                <div class="text-xs text-gray-600">ÌôîÏ†úÏùò Ïù¥Ïäà, ÏÜåÏÖúÎØ∏ÎîîÏñ¥ ÏΩòÌÖêÏ∏†</div>
                            </button>
                        </div>
                    </div>
                `
            },
            {
                title: 'üéâ Ïù¥Ï†ú ÏãúÏûëÌï† Ï§ÄÎπÑÍ∞Ä ÎêòÏóàÏäµÎãàÎã§!',
                content: `
                    <div class="space-y-4">
                        <div class="text-center">
                            <i class="fas fa-rocket text-4xl text-blue-500 mb-3"></i>
                            <p class="font-semibold text-lg">Ï∂ïÌïòÌï©ÎãàÎã§! üéä</p>
                            <p class="text-gray-600">4-AI Ï†ÑÎ¨∏Í∞Ä ÏãúÏä§ÌÖúÏùÑ ÌôúÏö©Ìï† Ï§ÄÎπÑÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.</p>
                        </div>
                        
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <p class="font-medium text-green-800 mb-2">‚úÖ API ÌÇ§ ÏÑ§Ï†ï Î∂àÌïÑÏöî!</p>
                            <p class="text-sm text-green-700">ÏÑúÎ≤ÑÏóê Claude, Gemini, OpenAI API ÌÇ§Í∞Ä Íµ¨ÏÑ±ÎêòÏñ¥ ÏûàÏñ¥ Î∞îÎ°ú ÏÇ¨Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§. Î≥ÑÎèÑ ÏÑ§Ï†ï ÏóÜÏù¥ Ï¶âÏãú Î∏îÎ°úÍ∑∏ ÏÉùÏÑ±ÏùÑ ÏãúÏûëÌïòÏÑ∏Ïöî!</p>
                        </div>
                        
                        <div class="bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border">
                            <p class="font-medium mb-2">üí° Í∏∞ÏñµÌï¥ Ï£ºÏÑ∏Ïöî:</p>
                            <ul class="text-sm space-y-1 list-disc list-inside">
                                <li><strong>Íµ¨Ï≤¥Ï†ÅÏù∏ Ï£ºÏ†ú</strong>Î•º ÏûÖÎ†•ÌïòÎ©¥ Îçî Ï¢ãÏùÄ Í≤∞Í≥ºÎ•º ÏñªÏäµÎãàÎã§</li>
                                <li><strong>ÎèÖÏûêÏ∏µÍ≥º ÌÜ§</strong>ÏùÑ Ï†ïÌôïÌûà ÏÑ§Ï†ïÌïòÏÑ∏Ïöî</li>
                                <li><strong>Ïã§ÏãúÍ∞Ñ Í∞ÄÏù¥Îìú</strong>Î•º Ï∞∏Í≥†ÌïòÏó¨ ÏûÖÎ†•ÏùÑ ÏµúÏ†ÅÌôîÌïòÏÑ∏Ïöî</li>
                                <li><strong>ÌíàÏßà Í≤ÄÏ¶ù Î™®Îìú</strong>Î°ú Îçî ÏôÑÏÑ±ÎèÑ ÎÜíÏùÄ ÏΩòÌÖêÏ∏†Î•º ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî</li>
                                <li><strong>API ÌÇ§ ÏóÜÏù¥ÎèÑ Î∞îÎ°ú ÏÇ¨Ïö©</strong> Í∞ÄÎä•Ìï©ÎãàÎã§!</li>
                            </ul>
                        </div>
                        <div class="text-center">
                            <button class="px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all" id="completeTutorial">
                                <i class="fas fa-magic mr-2"></i>ÏßÄÍ∏à ÏãúÏûëÌïòÍ∏∞
                            </button>
                        </div>
                    </div>
                `
            }
        ]
        
        const step = steps[this.tutorialStep]
        if (!step) return
        
        // Ï†úÎ™©Í≥º ÎÇ¥Ïö© ÏóÖÎç∞Ïù¥Ìä∏
        const title = this.tutorialModal.querySelector('#tutorialTitle')
        const content = this.tutorialModal.querySelector('#tutorialContent')
        const prevBtn = this.tutorialModal.querySelector('#prevStep')
        const nextBtn = this.tutorialModal.querySelector('#nextStep')
        const stepIndicators = this.tutorialModal.querySelector('#stepIndicators')
        
        title.textContent = step.title
        content.innerHTML = step.content
        
        // Îã®Í≥Ñ ÌëúÏãúÍ∏∞ ÏóÖÎç∞Ïù¥Ìä∏
        stepIndicators.innerHTML = ''
        for (let i = 0; i < steps.length; i++) {
            const dot = document.createElement('div')
            dot.className = `w-2 h-2 rounded-full ${i === this.tutorialStep ? 'bg-blue-500' : 'bg-gray-300'}`
            stepIndicators.appendChild(dot)
        }
        
        // Î≤ÑÌäº ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
        prevBtn.style.visibility = this.tutorialStep === 0 ? 'hidden' : 'visible'
        
        if (this.tutorialStep === steps.length - 1) {
            nextBtn.textContent = 'ÏôÑÎ£å'
            nextBtn.className = 'px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600'
        } else {
            nextBtn.textContent = 'Îã§Ïùå'
            nextBtn.className = 'px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600'
        }
        
        // ÌÖúÌîåÎ¶ø Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà (5Îã®Í≥ÑÏóêÏÑúÎßå)
        if (this.tutorialStep === 4) {
            const templateBtns = content.querySelectorAll('.template-btn')
            templateBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const template = btn.dataset.template
                    this.applyQuickTemplate(template)
                    this.showSuccess(`${btn.querySelector('.font-medium').textContent} ÌÖúÌîåÎ¶øÏù¥ Ï†ÅÏö©ÎêòÏóàÏäµÎãàÎã§!`)
                })
            })
        }
        
        // ÏôÑÎ£å Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà (ÎßàÏßÄÎßâ Îã®Í≥ÑÏóêÏÑúÎßå)
        if (this.tutorialStep === steps.length - 1) {
            const completeBtn = content.querySelector('#completeTutorial')
            if (completeBtn) {
                completeBtn.addEventListener('click', () => {
                    this.completeTutorial()
                })
            }
        }
    }
    
    nextTutorialStep() {
        const maxSteps = 6 // Ï¥ù 6Îã®Í≥Ñ
        if (this.tutorialStep < maxSteps - 1) {
            this.tutorialStep++
            this.showTutorialStep()
        } else {
            this.completeTutorial()
        }
    }
    
    previousTutorialStep() {
        if (this.tutorialStep > 0) {
            this.tutorialStep--
            this.showTutorialStep()
        }
    }
    
    completeTutorial() {
        localStorage.setItem('tutorialCompleted', 'true')
        this.closeTutorial()
        this.showSuccess('ÌäúÌÜ†Î¶¨ÏñºÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! Ïù¥Ï†ú AI Î∏îÎ°úÍ∑∏ ÏÉùÏÑ±Í∏∞Î•º ÎßàÏùåÍªè ÌôúÏö©Ìï¥Î≥¥ÏÑ∏Ïöî! üéâ')
        
        // Ïä§ÎßàÌä∏ Í∞ÄÏù¥Îìú ÏûêÎèô ÌôúÏÑ±Ìôî
        if (this.dynamicGuide && this.dynamicGuide.classList.contains('hidden')) {
            this.toggleSmartGuide()
        }
    }
    
    closeTutorial() {
        if (this.tutorialModal) {
            this.tutorialModal.remove()
            this.tutorialModal = null
        }
        if (this.tutorialOverlay) {
            this.tutorialOverlay.remove()
            this.tutorialOverlay = null
        }
    }
    
    setupQuickTemplates() {
        const templates = {
            tech: {
                topic: '2024ÎÖÑ Ï£ºÎ™©Î∞õÎäî AI Í∏∞Ïà† Ìä∏Î†åÎìúÏôÄ Ïã§Î¨¥ ÌôúÏö© Î∞©Ïïà',
                audience: 'Ï†ÑÎ¨∏Í∞Ä',
                tone: 'Ï†ÑÎ¨∏Ï†Å',
                aiModel: 'claude'
            },
            business: {
                topic: 'MZÏÑ∏ÎåÄ ÏÜåÎπÑÏûê ÎßàÏùåÏùÑ ÏÇ¨Î°úÏû°Îäî ÎîîÏßÄÌÑ∏ ÎßàÏºÄÌåÖ Ï†ÑÎûµ',
                audience: 'ÏùºÎ∞òÏù∏',
                tone: 'Ï†ÑÎ¨∏Ï†Å',
                aiModel: 'openai'
            },
            lifestyle: {
                topic: 'Î∞îÏÅú ÏßÅÏû•Ïù∏ÏùÑ ÏúÑÌïú Í±¥Í∞ïÌïú ÏïÑÏπ® Î£®Ìã¥ ÎßåÎì§Í∏∞',
                audience: 'ÏùºÎ∞òÏù∏',
                tone: 'ÏπúÍ∑ºÌïú',
                aiModel: 'gemini'
            },
            trending: {
                topic: 'ÏßÄÍ∏à SNSÏóêÏÑú Ìï´Ìïú! 2024ÎÖÑ Î∞îÏù¥Îü¥ Ï±åÎ¶∞ÏßÄ ÏôÑÏ†ÑÏ†ïÎ≥µ',
                audience: 'Ï¥àÎ≥¥Ïûê',
                tone: 'Ïú†Î®∏Îü¨Ïä§',
                aiModel: 'grok'
            }
        }
        
        // Îπ†Î•∏ ÌÖúÌîåÎ¶ø Î≤ÑÌäºÎì§Ïóê Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
        document.querySelectorAll('[data-template]').forEach(btn => {
            btn.addEventListener('click', () => {
                const templateKey = btn.dataset.template
                if (templates[templateKey]) {
                    this.applyQuickTemplate(templateKey)
                    this.showSuccess(`${btn.textContent} ÌÖúÌîåÎ¶øÏù¥ Ï†ÅÏö©ÎêòÏóàÏäµÎãàÎã§!`)
                }
            })
        })
    }
    
    applyQuickTemplate(templateKey) {
        const templates = {
            tech: {
                topic: '2024ÎÖÑ Ï£ºÎ™©Î∞õÎäî AI Í∏∞Ïà† Ìä∏Î†åÎìúÏôÄ Ïã§Î¨¥ ÌôúÏö© Î∞©Ïïà',
                audience: 'Ï†ÑÎ¨∏Í∞Ä',
                tone: 'Ï†ÑÎ¨∏Ï†Å',
                aiModel: 'claude'
            },
            business: {
                topic: 'MZÏÑ∏ÎåÄ ÏÜåÎπÑÏûê ÎßàÏùåÏùÑ ÏÇ¨Î°úÏû°Îäî ÎîîÏßÄÌÑ∏ ÎßàÏºÄÌåÖ Ï†ÑÎûµ',
                audience: 'ÏùºÎ∞òÏù∏',
                tone: 'Ï†ÑÎ¨∏Ï†Å',
                aiModel: 'openai'
            },
            lifestyle: {
                topic: 'Î∞îÏÅú ÏßÅÏû•Ïù∏ÏùÑ ÏúÑÌïú Í±¥Í∞ïÌïú ÏïÑÏπ® Î£®Ìã¥ ÎßåÎì§Í∏∞',
                audience: 'ÏùºÎ∞òÏù∏',
                tone: 'ÏπúÍ∑ºÌïú',
                aiModel: 'gemini'
            },
            trending: {
                topic: 'ÏßÄÍ∏à SNSÏóêÏÑú Ìï´Ìïú! 2024ÎÖÑ Î∞îÏù¥Îü¥ Ï±åÎ¶∞ÏßÄ ÏôÑÏ†ÑÏ†ïÎ≥µ',
                audience: 'Ï¥àÎ≥¥Ïûê',
                tone: 'Ïú†Î®∏Îü¨Ïä§',
                aiModel: 'grok'
            }
        }
        
        const template = templates[templateKey]
        if (!template) return
        
        // Ìèº ÌïÑÎìú ÏûêÎèô ÏûÖÎ†•
        if (this.topicInput) this.topicInput.value = template.topic
        if (this.audienceSelect) this.audienceSelect.value = template.audience
        if (this.toneSelect) this.toneSelect.value = template.tone
        if (this.aiModelSelect) this.aiModelSelect.value = template.aiModel
        
        // Ïã§ÏãúÍ∞Ñ Î∂ÑÏÑù Ïã§Ìñâ
        setTimeout(() => {
            this.analyzeInput()
        }, 100)
    }
    
    setupSuccessShowcase() {
        // ÏÑ±Í≥µ ÏÇ¨Î°Ä Îç∞Ïù¥ÌÑ∞
        const successCases = [
            {
                title: 'AI Ïä§ÌÉÄÌä∏ÏóÖ Ï∞ΩÏóÖÍ∏∞',
                model: 'claude',
                stats: { views: '2.5Îßå', engagement: '15%', time: '4:32' },
                highlight: 'ÎÖºÎ¶¨Ï†Å Íµ¨Ï°∞ÏôÄ Îç∞Ïù¥ÌÑ∞ Í∏∞Î∞ò Î∂ÑÏÑùÏúºÎ°ú Ï†ÑÎ¨∏ÏÑ± Ïù∏Ï†ï'
            },
            {
                title: 'ÏΩîÎî© ÏûÖÎ¨∏Ïûê Í∞ÄÏù¥Îìú',
                model: 'gemini',
                stats: { views: '1.8Îßå', engagement: '22%', time: '6:15' },
                highlight: 'Ï≤¥Í≥ÑÏ†ÅÏù∏ Îã®Í≥ÑÎ≥Ñ ÏÑ§Î™ÖÏúºÎ°ú ÎÜíÏùÄ ÏôÑÎèÖÎ•† Îã¨ÏÑ±'
            },
            {
                title: 'ÏùºÏÉÅ ÏÜç ÏûëÏùÄ ÌñâÎ≥µ Ï∞æÍ∏∞',
                model: 'openai',
                stats: { views: '3.2Îßå', engagement: '28%', time: '3:45' },
                highlight: 'Í∞êÏÑ±Ï†Å Ïä§ÌÜ†Î¶¨ÌÖîÎßÅÏúºÎ°ú ÎÜíÏùÄ Í≥µÍ∞êÎåÄ ÌòïÏÑ±'
            },
            {
                title: '2024 ÏµúÏã† Î∞à Ìä∏Î†åÎìú',
                model: 'grok',
                stats: { views: '5.7Îßå', engagement: '35%', time: '2:58' },
                highlight: 'Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î∞òÏòÅÏúºÎ°ú Î∞îÏù¥Îü¥ Ìö®Í≥º Í∑πÎåÄÌôî'
            }
        ]
        
        // ÏÑ±Í≥µ ÏÇ¨Î°Ä ÌëúÏãú (ÌïÑÏöîÏãú Íµ¨ÌòÑ)
        this.successCases = successCases
    }
}

// ==================== Ï¥àÍ∏∞Ìôî ====================

// DOM Î°úÎìú ÏôÑÎ£å Ïãú Ï¥àÍ∏∞Ìôî
document.addEventListener('DOMContentLoaded', function() {
    // Î∏îÎ°úÍ∑∏ ÏÉùÏÑ±Í∏∞ Ï¥àÍ∏∞Ìôî
    window.blogGenerator = new BlogGenerator()
    
    console.log('üì± AI Î∏îÎ°úÍ∑∏ ÏÉùÏÑ±Í∏∞ v3.0 ÏãúÏûë!')
    console.log('‚ú® Í∏∞Îä•: ÌíàÏßà Í≤ÄÏ¶ù ÏãúÏä§ÌÖú + SEO ÏµúÏ†ÅÌôî')
    console.log('ü§ñ ÏßÄÏõê Î™®Îç∏: Claude, Gemini, OpenAI')
    console.log('üõ°Ô∏è Ïã†Í∏∞Îä•: 3Îã®Í≥Ñ ÌíàÏßà Í≤ÄÏ¶ù ÌîÑÎ°úÏÑ∏Ïä§')
})

// Ï†ÑÏó≠ Ìï®ÏàòÎ°ú ÎÇ¥Î≥¥ÎÇ¥Í∏∞ (ÎîîÎ≤ÑÍπÖÏö©)
window.BlogGenerator = BlogGenerator